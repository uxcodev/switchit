{"ast":null,"code":"export default {\n  async whateverApiCall(method, path) {\n    try {\n      const options = {\n        method: method,\n        headers: {\n          accept: \"application/json\"\n          // authorization: `Bearer ${token}`,\n        }\n      };\n\n      let url = \"https://switchitapi.azurewebsites.net/api/v1/\";\n      const response = await fetch(`${url}${path}`, options);\n      const data = await response.json();\n      return data;\n    } catch (err) {\n      console.error(err);\n    }\n  },\n  async getPsd2Institutions() {\n    // let token = localStorage.getItem('switchit_token');\n    // console.log(`getUsers token: ${token}`)\n\n    try {\n      const options = {\n        method: \"GET\",\n        headers: {\n          accept: \"application/json\"\n          // authorization: `Bearer ${token}`,\n        }\n      };\n\n      let url = \"https://switchitapi.azurewebsites.net/api/v1/\";\n      const response = await fetch(`${url}/psd2Institutions`, options);\n      const data = await response.json();\n      return data;\n    } catch (err) {\n      console.error(err);\n    }\n  },\n  async createToken(email) {\n    try {\n      // create JWT token in backend\n\n      let body = {\n        email: email\n      };\n      const options = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(body)\n      };\n      let url = process.env.VUE_APP_API_URL;\n      const response = await fetch(`${url}/users/create-token`, options);\n      const data = await response.json();\n\n      // save the token in local storage\n\n      localStorage.setItem('switchit_token', data.token);\n      return data.token;\n    } catch (err) {\n      console.error(err);\n    }\n  },\n  async getUsers() {\n    let token = localStorage.getItem('switchit_token');\n\n    // console.log(`getUsers token: ${token}`)\n\n    try {\n      const options = {\n        method: \"GET\",\n        headers: {\n          accept: \"application/json\",\n          authorization: `Bearer ${token}`\n        }\n      };\n      let url = process.env.VUE_APP_API_URL;\n      const response = await fetch(`${url}/users/get-users`, options);\n      const data = await response.json();\n      return data;\n    } catch (err) {\n      console.error(err);\n    }\n    return true;\n  },\n  async getLeads(query) {\n    let token = localStorage.getItem('switchit_token');\n\n    // console.log(`getUsers token: ${token}`)\n    console.log(query.limit);\n    console.log(query.skip);\n    try {\n      const options = {\n        method: \"GET\",\n        headers: {\n          accept: \"application/json\",\n          authorization: `Bearer ${token}`\n        }\n      };\n      let url = process.env.VUE_APP_API_URL;\n      const response = await fetch(`${url}/leads/get-leads?limit=${limit}&skip=${skip}`, options);\n      const data = await response.json();\n      return data;\n    } catch (err) {\n      console.error(err);\n    }\n    return true;\n  },\n  async createLeads(leads) {\n    let token = localStorage.getItem('switchit_token');\n\n    // console.log(`getUsers token: ${token}`)\n\n    try {\n      let body = {\n        leads: leads\n      };\n      const options = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify(body)\n      };\n      let url = process.env.VUE_APP_API_URL;\n      const response = await fetch(`${url}/leads/create-leads`, options);\n      const data = await response.json();\n      return data;\n    } catch (err) {\n      console.error(err);\n    }\n    return true;\n  },\n  async updateUser(id, fields) {\n    try {\n      let token = localStorage.getItem('switchit_token');\n      let body = {\n        id: id,\n        fields: fields\n      };\n      const options = {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify(body)\n      };\n      let url = process.env.VUE_APP_API_URL;\n      const response = await fetch(`${url}/users/update-user`, options);\n      const data = await response.json();\n      return data;\n    } catch (err) {\n      console.error(err);\n    }\n  },\n  async signupCompany(fields) {\n    try {\n      let token = localStorage.getItem('switchit_token');\n      console.log('fields');\n      console.log(fields);\n      let body = {\n        fields: fields\n      };\n      const options = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify(body)\n      };\n      let url = process.env.VUE_APP_API_URL;\n      const response = await fetch(`${url}/companies/signup-company`, options);\n      const data = await response.json();\n      return data;\n    } catch (err) {\n      console.error(err);\n    }\n  }\n};","map":{"version":3,"names":["whateverApiCall","method","path","options","headers","accept","url","response","fetch","data","json","err","console","error","getPsd2Institutions","createToken","email","body","JSON","stringify","process","env","VUE_APP_API_URL","localStorage","setItem","token","getUsers","getItem","authorization","getLeads","query","log","limit","skip","createLeads","leads","updateUser","id","fields","signupCompany"],"sources":["/Users/nick/Sites/switchit/vue/src/api/api.js"],"sourcesContent":["export default {\n\n  async whateverApiCall(method, path) {\n\n    try {\n      const options = {\n        method: method,\n        headers: {\n          accept: \"application/json\",\n          // authorization: `Bearer ${token}`,\n        },\n      };\n\n      let url = \"https://switchitapi.azurewebsites.net/api/v1/\"\n      const response = await fetch(\n        `${url}${path}`,\n        options\n      );\n      const data = await response.json();\n      return data;\n    } catch (err) {\n      console.error(err);\n    }\n  },\n\n\n  async getPsd2Institutions() {\n    // let token = localStorage.getItem('switchit_token');\n    // console.log(`getUsers token: ${token}`)\n\n    try {\n      const options = {\n        method: \"GET\",\n        headers: {\n          accept: \"application/json\",\n          // authorization: `Bearer ${token}`,\n        },\n      };\n\n      let url = \"https://switchitapi.azurewebsites.net/api/v1/\"\n      const response = await fetch(\n        `${url}/psd2Institutions`,\n        options\n      );\n      const data = await response.json();\n      return data;\n    } catch (err) {\n      console.error(err);\n    }\n  },\n\n\n  async createToken(email) {\n\n    try {\n\n      // create JWT token in backend\n\n      let body = {\n        email: email\n      }\n      const options = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(body)\n      }\n\n      let url = process.env.VUE_APP_API_URL\n      const response = await fetch(\n        `${url}/users/create-token`,\n        options\n      )\n      const data = await response.json();\n\n      // save the token in local storage\n\n      localStorage.setItem('switchit_token', data.token)\n      return data.token;\n\n    } catch (err) {\n      console.error(err);\n    }\n  },\n\n  async getUsers() {\n    let token = localStorage.getItem('switchit_token');\n\n    // console.log(`getUsers token: ${token}`)\n\n    try {\n      const options = {\n        method: \"GET\",\n        headers: {\n          accept: \"application/json\",\n          authorization: `Bearer ${token}`,\n        },\n      };\n\n      let url = process.env.VUE_APP_API_URL\n      const response = await fetch(\n        `${url}/users/get-users`,\n        options\n      );\n      const data = await response.json();\n      return data;\n    } catch (err) {\n      console.error(err);\n    }\n    return true\n  },\n\n  async getLeads(query) {\n    let token = localStorage.getItem('switchit_token');\n\n    // console.log(`getUsers token: ${token}`)\n    console.log(query.limit)\n    console.log(query.skip)\n    try {\n      const options = {\n        method: \"GET\",\n        headers: {\n          accept: \"application/json\",\n          authorization: `Bearer ${token}`,\n        },\n      };\n\n      let url = process.env.VUE_APP_API_URL\n      const response = await fetch(\n        `${url}/leads/get-leads?limit=${limit}&skip=${skip}`,\n        options\n      );\n      const data = await response.json();\n      return data;\n    } catch (err) {\n      console.error(err);\n    }\n    return true\n  },\n\n  async createLeads(leads) {\n    let token = localStorage.getItem('switchit_token');\n\n    // console.log(`getUsers token: ${token}`)\n\n    try {\n      let body = {\n        leads: leads\n      }\n      const options = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify(body)\n      }\n\n      let url = process.env.VUE_APP_API_URL\n      const response = await fetch(\n        `${url}/leads/create-leads`,\n        options\n      );\n      const data = await response.json();\n      return data;\n    } catch (err) {\n      console.error(err);\n    }\n    return true\n  },\n\n  async updateUser(id, fields) {\n    try {\n      let token = localStorage.getItem('switchit_token');\n      let body = {\n        id: id,\n        fields: fields\n      }\n      const options = {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify(body)\n      }\n\n      let url = process.env.VUE_APP_API_URL\n      const response = await fetch(\n        `${url}/users/update-user`,\n        options\n      )\n      const data = await response.json();\n      return data;\n    } catch (err) {\n      console.error(err);\n    }\n  },\n\n  async signupCompany(fields) {\n    try {\n      let token = localStorage.getItem('switchit_token');\n\n      console.log('fields')\n      console.log(fields)\n\n      let body = {\n        fields: fields\n      }\n      const options = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify(body)\n      }\n\n      let url = process.env.VUE_APP_API_URL\n      const response = await fetch(\n        `${url}/companies/signup-company`,\n        options\n      )\n      const data = await response.json();\n      return data;\n    } catch (err) {\n      console.error(err);\n    }\n  },\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}