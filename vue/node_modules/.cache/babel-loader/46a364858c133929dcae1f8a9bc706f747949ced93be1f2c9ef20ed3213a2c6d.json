{"ast":null,"code":"import \"core-js/modules/es.array.unshift.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/web.dom-exception.stack.js\";\nimport { watchEffect as e, ref as t, readonly as i, unref as o, inject as n } from \"vue\";\nconst a = Symbol(\"$auth0\");\nfunction s(e, t) {\n  var i = {};\n  for (var o in e) Object.prototype.hasOwnProperty.call(e, o) && t.indexOf(o) < 0 && (i[o] = e[o]);\n  if (null != e && \"function\" == typeof Object.getOwnPropertySymbols) {\n    var n = 0;\n    for (o = Object.getOwnPropertySymbols(e); n < o.length; n++) t.indexOf(o[n]) < 0 && Object.prototype.propertyIsEnumerable.call(e, o[n]) && (i[o[n]] = e[o[n]]);\n  }\n  return i;\n}\nvar r = \"undefined\" != typeof globalThis ? globalThis : \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : {};\nfunction c(e) {\n  return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, \"default\") ? e.default : e;\n}\nfunction l(e, t) {\n  return e(t = {\n    exports: {}\n  }, t.exports), t.exports;\n}\nvar d = l(function (e, t) {\n  Object.defineProperty(t, \"__esModule\", {\n    value: !0\n  });\n  var i = function () {\n    function e() {\n      var e = this;\n      this.locked = new Map(), this.addToLocked = function (t, i) {\n        var o = e.locked.get(t);\n        void 0 === o ? void 0 === i ? e.locked.set(t, []) : e.locked.set(t, [i]) : void 0 !== i && (o.unshift(i), e.locked.set(t, o));\n      }, this.isLocked = function (t) {\n        return e.locked.has(t);\n      }, this.lock = function (t) {\n        return new Promise(function (i, o) {\n          e.isLocked(t) ? e.addToLocked(t, i) : (e.addToLocked(t), i());\n        });\n      }, this.unlock = function (t) {\n        var i = e.locked.get(t);\n        if (void 0 !== i && 0 !== i.length) {\n          var o = i.pop();\n          e.locked.set(t, i), void 0 !== o && setTimeout(o, 0);\n        } else e.locked.delete(t);\n      };\n    }\n    return e.getInstance = function () {\n      return void 0 === e.instance && (e.instance = new e()), e.instance;\n    }, e;\n  }();\n  t.default = function () {\n    return i.getInstance();\n  };\n});\nc(d);\nvar u = c(l(function (e, t) {\n  var i = r && r.__awaiter || function (e, t, i, o) {\n      return new (i || (i = Promise))(function (n, a) {\n        function s(e) {\n          try {\n            c(o.next(e));\n          } catch (e) {\n            a(e);\n          }\n        }\n        function r(e) {\n          try {\n            c(o.throw(e));\n          } catch (e) {\n            a(e);\n          }\n        }\n        function c(e) {\n          e.done ? n(e.value) : new i(function (t) {\n            t(e.value);\n          }).then(s, r);\n        }\n        c((o = o.apply(e, t || [])).next());\n      });\n    },\n    o = r && r.__generator || function (e, t) {\n      var i,\n        o,\n        n,\n        a,\n        s = {\n          label: 0,\n          sent: function () {\n            if (1 & n[0]) throw n[1];\n            return n[1];\n          },\n          trys: [],\n          ops: []\n        };\n      return a = {\n        next: r(0),\n        throw: r(1),\n        return: r(2)\n      }, \"function\" == typeof Symbol && (a[Symbol.iterator] = function () {\n        return this;\n      }), a;\n      function r(a) {\n        return function (r) {\n          return function (a) {\n            if (i) throw new TypeError(\"Generator is already executing.\");\n            for (; s;) try {\n              if (i = 1, o && (n = 2 & a[0] ? o.return : a[0] ? o.throw || ((n = o.return) && n.call(o), 0) : o.next) && !(n = n.call(o, a[1])).done) return n;\n              switch (o = 0, n && (a = [2 & a[0], n.value]), a[0]) {\n                case 0:\n                case 1:\n                  n = a;\n                  break;\n                case 4:\n                  return s.label++, {\n                    value: a[1],\n                    done: !1\n                  };\n                case 5:\n                  s.label++, o = a[1], a = [0];\n                  continue;\n                case 7:\n                  a = s.ops.pop(), s.trys.pop();\n                  continue;\n                default:\n                  if (!((n = (n = s.trys).length > 0 && n[n.length - 1]) || 6 !== a[0] && 2 !== a[0])) {\n                    s = 0;\n                    continue;\n                  }\n                  if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {\n                    s.label = a[1];\n                    break;\n                  }\n                  if (6 === a[0] && s.label < n[1]) {\n                    s.label = n[1], n = a;\n                    break;\n                  }\n                  if (n && s.label < n[2]) {\n                    s.label = n[2], s.ops.push(a);\n                    break;\n                  }\n                  n[2] && s.ops.pop(), s.trys.pop();\n                  continue;\n              }\n              a = t.call(e, s);\n            } catch (e) {\n              a = [6, e], o = 0;\n            } finally {\n              i = n = 0;\n            }\n            if (5 & a[0]) throw a[1];\n            return {\n              value: a[0] ? a[1] : void 0,\n              done: !0\n            };\n          }([a, r]);\n        };\n      }\n    };\n  Object.defineProperty(t, \"__esModule\", {\n    value: !0\n  });\n  var n = \"browser-tabs-lock-key\";\n  function a(e) {\n    return new Promise(function (t) {\n      return setTimeout(t, e);\n    });\n  }\n  function s(e) {\n    for (var t = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz\", i = \"\", o = 0; o < e; o++) i += t[Math.floor(Math.random() * t.length)];\n    return i;\n  }\n  var c = function () {\n    function e() {\n      this.acquiredIatSet = new Set(), this.id = Date.now().toString() + s(15), this.acquireLock = this.acquireLock.bind(this), this.releaseLock = this.releaseLock.bind(this), this.releaseLock__private__ = this.releaseLock__private__.bind(this), this.waitForSomethingToChange = this.waitForSomethingToChange.bind(this), this.refreshLockWhileAcquired = this.refreshLockWhileAcquired.bind(this), void 0 === e.waiters && (e.waiters = []);\n    }\n    return e.prototype.acquireLock = function (t, r) {\n      return void 0 === r && (r = 5e3), i(this, void 0, void 0, function () {\n        var i, c, l, d, u, h;\n        return o(this, function (o) {\n          switch (o.label) {\n            case 0:\n              i = Date.now() + s(4), c = Date.now() + r, l = n + \"-\" + t, d = window.localStorage, o.label = 1;\n            case 1:\n              return Date.now() < c ? [4, a(30)] : [3, 8];\n            case 2:\n              return o.sent(), null !== d.getItem(l) ? [3, 5] : (u = this.id + \"-\" + t + \"-\" + i, [4, a(Math.floor(25 * Math.random()))]);\n            case 3:\n              return o.sent(), d.setItem(l, JSON.stringify({\n                id: this.id,\n                iat: i,\n                timeoutKey: u,\n                timeAcquired: Date.now(),\n                timeRefreshed: Date.now()\n              })), [4, a(30)];\n            case 4:\n              return o.sent(), null !== (h = d.getItem(l)) && (h = JSON.parse(h)).id === this.id && h.iat === i ? (this.acquiredIatSet.add(i), this.refreshLockWhileAcquired(l, i), [2, !0]) : [3, 7];\n            case 5:\n              return e.lockCorrector(), [4, this.waitForSomethingToChange(c)];\n            case 6:\n              o.sent(), o.label = 7;\n            case 7:\n              return i = Date.now() + s(4), [3, 1];\n            case 8:\n              return [2, !1];\n          }\n        });\n      });\n    }, e.prototype.refreshLockWhileAcquired = function (e, t) {\n      return i(this, void 0, void 0, function () {\n        var n = this;\n        return o(this, function (a) {\n          return setTimeout(function () {\n            return i(n, void 0, void 0, function () {\n              var i, n;\n              return o(this, function (o) {\n                switch (o.label) {\n                  case 0:\n                    return [4, d.default().lock(t)];\n                  case 1:\n                    return o.sent(), this.acquiredIatSet.has(t) ? (i = window.localStorage, null === (n = i.getItem(e)) ? (d.default().unlock(t), [2]) : ((n = JSON.parse(n)).timeRefreshed = Date.now(), i.setItem(e, JSON.stringify(n)), d.default().unlock(t), this.refreshLockWhileAcquired(e, t), [2])) : (d.default().unlock(t), [2]);\n                }\n              });\n            });\n          }, 1e3), [2];\n        });\n      });\n    }, e.prototype.waitForSomethingToChange = function (t) {\n      return i(this, void 0, void 0, function () {\n        return o(this, function (i) {\n          switch (i.label) {\n            case 0:\n              return [4, new Promise(function (i) {\n                var o = !1,\n                  n = Date.now(),\n                  a = !1;\n                function s() {\n                  if (a || (window.removeEventListener(\"storage\", s), e.removeFromWaiting(s), clearTimeout(r), a = !0), !o) {\n                    o = !0;\n                    var t = 50 - (Date.now() - n);\n                    t > 0 ? setTimeout(i, t) : i();\n                  }\n                }\n                window.addEventListener(\"storage\", s), e.addToWaiting(s);\n                var r = setTimeout(s, Math.max(0, t - Date.now()));\n              })];\n            case 1:\n              return i.sent(), [2];\n          }\n        });\n      });\n    }, e.addToWaiting = function (t) {\n      this.removeFromWaiting(t), void 0 !== e.waiters && e.waiters.push(t);\n    }, e.removeFromWaiting = function (t) {\n      void 0 !== e.waiters && (e.waiters = e.waiters.filter(function (e) {\n        return e !== t;\n      }));\n    }, e.notifyWaiters = function () {\n      void 0 !== e.waiters && e.waiters.slice().forEach(function (e) {\n        return e();\n      });\n    }, e.prototype.releaseLock = function (e) {\n      return i(this, void 0, void 0, function () {\n        return o(this, function (t) {\n          switch (t.label) {\n            case 0:\n              return [4, this.releaseLock__private__(e)];\n            case 1:\n              return [2, t.sent()];\n          }\n        });\n      });\n    }, e.prototype.releaseLock__private__ = function (t) {\n      return i(this, void 0, void 0, function () {\n        var i, a, s;\n        return o(this, function (o) {\n          switch (o.label) {\n            case 0:\n              return i = window.localStorage, a = n + \"-\" + t, null === (s = i.getItem(a)) ? [2] : (s = JSON.parse(s)).id !== this.id ? [3, 2] : [4, d.default().lock(s.iat)];\n            case 1:\n              o.sent(), this.acquiredIatSet.delete(s.iat), i.removeItem(a), d.default().unlock(s.iat), e.notifyWaiters(), o.label = 2;\n            case 2:\n              return [2];\n          }\n        });\n      });\n    }, e.lockCorrector = function () {\n      for (var t = Date.now() - 5e3, i = window.localStorage, o = Object.keys(i), a = !1, s = 0; s < o.length; s++) {\n        var r = o[s];\n        if (r.includes(n)) {\n          var c = i.getItem(r);\n          null !== c && (void 0 === (c = JSON.parse(c)).timeRefreshed && c.timeAcquired < t || void 0 !== c.timeRefreshed && c.timeRefreshed < t) && (i.removeItem(r), a = !0);\n        }\n      }\n      a && e.notifyWaiters();\n    }, e.waiters = void 0, e;\n  }();\n  t.default = c;\n}));\nconst h = {\n    timeoutInSeconds: 60\n  },\n  p = {\n    name: \"auth0-spa-js\",\n    version: \"2.0.1\"\n  },\n  m = () => Date.now();\nclass f extends Error {\n  constructor(e, t) {\n    super(t), this.error = e, this.error_description = t, Object.setPrototypeOf(this, f.prototype);\n  }\n  static fromPayload({\n    error: e,\n    error_description: t\n  }) {\n    return new f(e, t);\n  }\n}\nclass g extends f {\n  constructor(e, t, i, o = null) {\n    super(e, t), this.state = i, this.appState = o, Object.setPrototypeOf(this, g.prototype);\n  }\n}\nclass y extends f {\n  constructor() {\n    super(\"timeout\", \"Timeout\"), Object.setPrototypeOf(this, y.prototype);\n  }\n}\nclass w extends y {\n  constructor(e) {\n    super(), this.popup = e, Object.setPrototypeOf(this, w.prototype);\n  }\n}\nclass b extends f {\n  constructor(e) {\n    super(\"cancelled\", \"Popup closed\"), this.popup = e, Object.setPrototypeOf(this, b.prototype);\n  }\n}\nclass k extends f {\n  constructor(e, t, i) {\n    super(e, t), this.mfa_token = i, Object.setPrototypeOf(this, k.prototype);\n  }\n}\nclass v extends f {\n  constructor(e, t) {\n    super(\"missing_refresh_token\", `Missing Refresh Token (audience: '${_(e, [\"default\"])}', scope: '${_(t)}')`), this.audience = e, this.scope = t, Object.setPrototypeOf(this, v.prototype);\n  }\n}\nfunction _(e, t = []) {\n  return e && !t.includes(e) ? e : \"\";\n}\nconst I = () => window.crypto,\n  S = () => {\n    const e = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.\";\n    let t = \"\";\n    return Array.from(I().getRandomValues(new Uint8Array(43))).forEach(i => t += e[i % e.length]), t;\n  },\n  Z = e => btoa(e),\n  T = e => {\n    var {\n        clientId: t\n      } = e,\n      i = s(e, [\"clientId\"]);\n    return new URLSearchParams((e => Object.keys(e).filter(t => void 0 !== e[t]).reduce((t, i) => Object.assign(Object.assign({}, t), {\n      [i]: e[i]\n    }), {}))(Object.assign({\n      client_id: t\n    }, i))).toString();\n  },\n  C = e => (e => decodeURIComponent(atob(e).split(\"\").map(e => \"%\" + (\"00\" + e.charCodeAt(0).toString(16)).slice(-2)).join(\"\")))(e.replace(/_/g, \"/\").replace(/-/g, \"+\")),\n  j = async (e, t) => {\n    const i = await fetch(e, t);\n    return {\n      ok: i.ok,\n      json: await i.json()\n    };\n  },\n  x = async (e, t, i, o, n, a, s = 1e4) => n ? (async (e, t, i, o, n, a, s) => {\n    return r = {\n      auth: {\n        audience: t,\n        scope: i\n      },\n      timeout: n,\n      fetchUrl: e,\n      fetchOptions: o,\n      useFormData: s\n    }, c = a, new Promise(function (e, t) {\n      const i = new MessageChannel();\n      i.port1.onmessage = function (o) {\n        o.data.error ? t(new Error(o.data.error)) : e(o.data), i.port1.close();\n      }, c.postMessage(r, [i.port2]);\n    });\n    var r, c;\n  })(e, t, i, o, s, n, a) : (async (e, t, i) => {\n    const o = new AbortController();\n    let n;\n    return t.signal = o.signal, Promise.race([j(e, t), new Promise((e, t) => {\n      n = setTimeout(() => {\n        o.abort(), t(new Error(\"Timeout when executing 'fetch'\"));\n      }, i);\n    })]).finally(() => {\n      clearTimeout(n);\n    });\n  })(e, o, s);\nasync function O(e, t) {\n  var {\n      baseUrl: i,\n      timeout: o,\n      audience: n,\n      scope: a,\n      auth0Client: r,\n      useFormData: c\n    } = e,\n    l = s(e, [\"baseUrl\", \"timeout\", \"audience\", \"scope\", \"auth0Client\", \"useFormData\"]);\n  const d = c ? T(l) : JSON.stringify(l);\n  return await async function (e, t, i, o, n, a, r) {\n    let c,\n      l = null;\n    for (let s = 0; s < 3; s++) try {\n      c = await x(e, i, o, n, a, r, t), l = null;\n      break;\n    } catch (e) {\n      l = e;\n    }\n    if (l) throw l;\n    const d = c.json,\n      {\n        error: u,\n        error_description: h\n      } = d,\n      p = s(d, [\"error\", \"error_description\"]),\n      {\n        ok: m\n      } = c;\n    if (!m) {\n      const t = h || `HTTP error. Unable to fetch ${e}`;\n      if (\"mfa_required\" === u) throw new k(u, t, p.mfa_token);\n      throw new f(u || \"request_error\", t);\n    }\n    return p;\n  }(`${i}/oauth/token`, o, n || \"default\", a, {\n    method: \"POST\",\n    body: d,\n    headers: {\n      \"Content-Type\": c ? \"application/x-www-form-urlencoded\" : \"application/json\",\n      \"Auth0-Client\": btoa(JSON.stringify(r || p))\n    }\n  }, t, c);\n}\nconst X = (...e) => {\n  return (t = e.filter(Boolean).join(\" \").trim().split(/\\s+/), Array.from(new Set(t))).join(\" \");\n  var t;\n};\nclass z {\n  constructor(e, t = \"@@auth0spajs@@\", i) {\n    this.prefix = t, this.suffix = i, this.clientId = e.clientId, this.scope = e.scope, this.audience = e.audience;\n  }\n  toKey() {\n    return [this.prefix, this.clientId, this.audience, this.scope, this.suffix].filter(Boolean).join(\"::\");\n  }\n  static fromKey(e) {\n    const [t, i, o, n] = e.split(\"::\");\n    return new z({\n      clientId: i,\n      scope: n,\n      audience: o\n    }, t);\n  }\n  static fromCacheEntry(e) {\n    const {\n      scope: t,\n      audience: i,\n      client_id: o\n    } = e;\n    return new z({\n      scope: t,\n      audience: i,\n      clientId: o\n    });\n  }\n}\nclass V {\n  set(e, t) {\n    localStorage.setItem(e, JSON.stringify(t));\n  }\n  get(e) {\n    const t = window.localStorage.getItem(e);\n    if (t) try {\n      return JSON.parse(t);\n    } catch (e) {\n      return;\n    }\n  }\n  remove(e) {\n    localStorage.removeItem(e);\n  }\n  allKeys() {\n    return Object.keys(window.localStorage).filter(e => e.startsWith(\"@@auth0spajs@@\"));\n  }\n}\nclass K {\n  constructor() {\n    this.enclosedCache = function () {\n      let e = {};\n      return {\n        set(t, i) {\n          e[t] = i;\n        },\n        get(t) {\n          const i = e[t];\n          if (i) return i;\n        },\n        remove(t) {\n          delete e[t];\n        },\n        allKeys: () => Object.keys(e)\n      };\n    }();\n  }\n}\nclass W {\n  constructor(e, t, i) {\n    this.cache = e, this.keyManifest = t, this.nowProvider = i || m;\n  }\n  async setIdToken(e, t, i) {\n    var o;\n    const n = this.getIdTokenCacheKey(e);\n    await this.cache.set(n, {\n      id_token: t,\n      decodedToken: i\n    }), await (null === (o = this.keyManifest) || void 0 === o ? void 0 : o.add(n));\n  }\n  async getIdToken(e) {\n    const t = await this.cache.get(this.getIdTokenCacheKey(e.clientId));\n    if (!t && e.scope && e.audience) {\n      const t = await this.get(e);\n      if (!t) return;\n      if (!t.id_token || !t.decodedToken) return;\n      return {\n        id_token: t.id_token,\n        decodedToken: t.decodedToken\n      };\n    }\n    if (t) return {\n      id_token: t.id_token,\n      decodedToken: t.decodedToken\n    };\n  }\n  async get(e, t = 0) {\n    var i;\n    let o = await this.cache.get(e.toKey());\n    if (!o) {\n      const t = await this.getCacheKeys();\n      if (!t) return;\n      const i = this.matchExistingCacheKey(e, t);\n      i && (o = await this.cache.get(i));\n    }\n    if (!o) return;\n    const n = await this.nowProvider(),\n      a = Math.floor(n / 1e3);\n    return o.expiresAt - t < a ? o.body.refresh_token ? (o.body = {\n      refresh_token: o.body.refresh_token\n    }, await this.cache.set(e.toKey(), o), o.body) : (await this.cache.remove(e.toKey()), void (await (null === (i = this.keyManifest) || void 0 === i ? void 0 : i.remove(e.toKey())))) : o.body;\n  }\n  async set(e) {\n    var t;\n    const i = new z({\n        clientId: e.client_id,\n        scope: e.scope,\n        audience: e.audience\n      }),\n      o = await this.wrapCacheEntry(e);\n    await this.cache.set(i.toKey(), o), await (null === (t = this.keyManifest) || void 0 === t ? void 0 : t.add(i.toKey()));\n  }\n  async clear(e) {\n    var t;\n    const i = await this.getCacheKeys();\n    i && (await i.filter(t => !e || t.includes(e)).reduce(async (e, t) => {\n      await e, await this.cache.remove(t);\n    }, Promise.resolve()), await (null === (t = this.keyManifest) || void 0 === t ? void 0 : t.clear()));\n  }\n  async wrapCacheEntry(e) {\n    const t = await this.nowProvider();\n    return {\n      body: e,\n      expiresAt: Math.floor(t / 1e3) + e.expires_in\n    };\n  }\n  async getCacheKeys() {\n    var e;\n    return this.keyManifest ? null === (e = await this.keyManifest.get()) || void 0 === e ? void 0 : e.keys : this.cache.allKeys ? this.cache.allKeys() : void 0;\n  }\n  getIdTokenCacheKey(e) {\n    return new z({\n      clientId: e\n    }, \"@@auth0spajs@@\", \"@@user@@\").toKey();\n  }\n  matchExistingCacheKey(e, t) {\n    return t.filter(t => {\n      var i;\n      const o = z.fromKey(t),\n        n = new Set(o.scope && o.scope.split(\" \")),\n        a = (null === (i = e.scope) || void 0 === i ? void 0 : i.split(\" \")) || [],\n        s = o.scope && a.reduce((e, t) => e && n.has(t), !0);\n      return \"@@auth0spajs@@\" === o.prefix && o.clientId === e.clientId && o.audience === e.audience && s;\n    })[0];\n  }\n}\nclass P {\n  constructor(e, t) {\n    this.storage = e, this.clientId = t, this.storageKey = `a0.spajs.txs.${this.clientId}`, this.transaction = this.storage.get(this.storageKey);\n  }\n  create(e) {\n    this.transaction = e, this.storage.save(this.storageKey, e, {\n      daysUntilExpire: 1\n    });\n  }\n  get() {\n    return this.transaction;\n  }\n  remove() {\n    delete this.transaction, this.storage.remove(this.storageKey);\n  }\n}\nconst L = e => \"number\" == typeof e,\n  N = [\"iss\", \"aud\", \"exp\", \"nbf\", \"iat\", \"jti\", \"azp\", \"nonce\", \"auth_time\", \"at_hash\", \"c_hash\", \"acr\", \"amr\", \"sub_jwk\", \"cnf\", \"sip_from_tag\", \"sip_date\", \"sip_callid\", \"sip_cseq_num\", \"sip_via_branch\", \"orig\", \"dest\", \"mky\", \"events\", \"toe\", \"txn\", \"rph\", \"sid\", \"vot\", \"vtm\"];\nvar R = l(function (e, t) {\n  var i = r && r.__assign || function () {\n    return i = Object.assign || function (e) {\n      for (var t, i = 1, o = arguments.length; i < o; i++) for (var n in t = arguments[i]) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);\n      return e;\n    }, i.apply(this, arguments);\n  };\n  function o(e, t) {\n    if (!t) return \"\";\n    var i = \"; \" + e;\n    return !0 === t ? i : i + \"=\" + t;\n  }\n  function n(e, t, i) {\n    return encodeURIComponent(e).replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent).replace(/\\(/g, \"%28\").replace(/\\)/g, \"%29\") + \"=\" + encodeURIComponent(t).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent) + function (e) {\n      if (\"number\" == typeof e.expires) {\n        var t = new Date();\n        t.setMilliseconds(t.getMilliseconds() + 864e5 * e.expires), e.expires = t;\n      }\n      return o(\"Expires\", e.expires ? e.expires.toUTCString() : \"\") + o(\"Domain\", e.domain) + o(\"Path\", e.path) + o(\"Secure\", e.secure) + o(\"SameSite\", e.sameSite);\n    }(i);\n  }\n  function a(e) {\n    for (var t = {}, i = e ? e.split(\"; \") : [], o = /(%[\\dA-F]{2})+/gi, n = 0; n < i.length; n++) {\n      var a = i[n].split(\"=\"),\n        s = a.slice(1).join(\"=\");\n      '\"' === s.charAt(0) && (s = s.slice(1, -1));\n      try {\n        t[a[0].replace(o, decodeURIComponent)] = s.replace(o, decodeURIComponent);\n      } catch (e) {}\n    }\n    return t;\n  }\n  function s() {\n    return a(document.cookie);\n  }\n  function c(e, t, o) {\n    document.cookie = n(e, t, i({\n      path: \"/\"\n    }, o));\n  }\n  t.__esModule = !0, t.encode = n, t.parse = a, t.getAll = s, t.get = function (e) {\n    return s()[e];\n  }, t.set = c, t.remove = function (e, t) {\n    c(e, \"\", i(i({}, t), {\n      expires: -1\n    }));\n  };\n});\nc(R), R.encode, R.parse, R.getAll;\nvar G = R.get,\n  J = R.set,\n  U = R.remove;\nconst H = {\n    get(e) {\n      const t = G(e);\n      if (void 0 !== t) return JSON.parse(t);\n    },\n    save(e, t, i) {\n      let o = {};\n      \"https:\" === window.location.protocol && (o = {\n        secure: !0,\n        sameSite: \"none\"\n      }), (null == i ? void 0 : i.daysUntilExpire) && (o.expires = i.daysUntilExpire), (null == i ? void 0 : i.cookieDomain) && (o.domain = i.cookieDomain), J(e, JSON.stringify(t), o);\n    },\n    remove(e, t) {\n      let i = {};\n      (null == t ? void 0 : t.cookieDomain) && (i.domain = t.cookieDomain), U(e, i);\n    }\n  },\n  Y = {\n    get: e => H.get(e) || H.get(`_legacy_${e}`),\n    save(e, t, i) {\n      let o = {};\n      \"https:\" === window.location.protocol && (o = {\n        secure: !0\n      }), (null == i ? void 0 : i.daysUntilExpire) && (o.expires = i.daysUntilExpire), J(`_legacy_${e}`, JSON.stringify(t), o), H.save(e, t, i);\n    },\n    remove(e, t) {\n      let i = {};\n      (null == t ? void 0 : t.cookieDomain) && (i.domain = t.cookieDomain), U(e, i), H.remove(e, t), H.remove(`_legacy_${e}`, t);\n    }\n  },\n  E = {\n    get(e) {\n      if (\"undefined\" == typeof sessionStorage) return;\n      const t = sessionStorage.getItem(e);\n      return null != t ? JSON.parse(t) : void 0;\n    },\n    save(e, t) {\n      sessionStorage.setItem(e, JSON.stringify(t));\n    },\n    remove(e) {\n      sessionStorage.removeItem(e);\n    }\n  };\nvar F,\n  D = (\"Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9Y29uc3Qgcz1lPT57dmFye2NsaWVudElkOnR9PWUscj1mdW5jdGlvbihlLHQpe3ZhciByPXt9O2Zvcih2YXIgcyBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHMpJiZ0LmluZGV4T2Yocyk8MCYmKHJbc109ZVtzXSk7aWYobnVsbCE9ZSYmImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBvPTA7Zm9yKHM9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtvPHMubGVuZ3RoO28rKyl0LmluZGV4T2Yoc1tvXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsc1tvXSkmJihyW3Nbb11dPWVbc1tvXV0pfXJldHVybiByfShlLFsiY2xpZW50SWQiXSk7cmV0dXJuIG5ldyBVUkxTZWFyY2hQYXJhbXMoKGU9Pk9iamVjdC5rZXlzKGUpLmZpbHRlcigodD0+dm9pZCAwIT09ZVt0XSkpLnJlZHVjZSgoKHQscik9Pk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSx7W3JdOmVbcl19KSkse30pKShPYmplY3QuYXNzaWduKHtjbGllbnRfaWQ6dH0scikpKS50b1N0cmluZygpfTtsZXQgbz17fTtjb25zdCBuPShlLHQpPT5gJHtlfXwke3R9YDthZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoYXN5bmMoe2RhdGE6e3RpbWVvdXQ6ZSxhdXRoOnIsZmV0Y2hVcmw6aSxmZXRjaE9wdGlvbnM6Yyx1c2VGb3JtRGF0YTphfSxwb3J0czpbZl19KT0+e2xldCBwO2NvbnN0e2F1ZGllbmNlOmwsc2NvcGU6dX09cnx8e307dHJ5e2NvbnN0IHI9YT8oZT0+e2NvbnN0IHQ9bmV3IFVSTFNlYXJjaFBhcmFtcyhlKSxyPXt9O3JldHVybiB0LmZvckVhY2goKChlLHQpPT57clt0XT1lfSkpLHJ9KShjLmJvZHkpOkpTT04ucGFyc2UoYy5ib2R5KTtpZighci5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1yLmdyYW50X3R5cGUpe2NvbnN0IGU9KChlLHQpPT5vW24oZSx0KV0pKGwsdSk7aWYoIWUpdGhyb3cgbmV3IHQobCx1KTtjLmJvZHk9YT9zKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjplfSkpOkpTT04uc3RyaW5naWZ5KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjplfSkpfWxldCBkLGc7ImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGQ9bmV3IEFib3J0Q29udHJvbGxlcixjLnNpZ25hbD1kLnNpZ25hbCk7dHJ5e2c9YXdhaXQgUHJvbWlzZS5yYWNlKFsoaD1lLG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsaCkpKSksZmV0Y2goaSxPYmplY3QuYXNzaWduKHt9LGMpKV0pfWNhdGNoKGUpe3JldHVybiB2b2lkIGYucG9zdE1lc3NhZ2Uoe2Vycm9yOmUubWVzc2FnZX0pfWlmKCFnKXJldHVybiBkJiZkLmFib3J0KCksdm9pZCBmLnBvc3RNZXNzYWdlKHtlcnJvcjoiVGltZW91dCB3aGVuIGV4ZWN1dGluZyAnZmV0Y2gnIn0pO3A9YXdhaXQgZy5qc29uKCkscC5yZWZyZXNoX3Rva2VuPygoKGUsdCxyKT0+e29bbih0LHIpXT1lfSkocC5yZWZyZXNoX3Rva2VuLGwsdSksZGVsZXRlIHAucmVmcmVzaF90b2tlbik6KChlLHQpPT57ZGVsZXRlIG9bbihlLHQpXX0pKGwsdSksZi5wb3N0TWVzc2FnZSh7b2s6Zy5vayxqc29uOnB9KX1jYXRjaChlKXtmLnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGh9KSl9KCk7Cgo=\", null, !1, function (e) {\n    return F = F || function (e, t, i) {\n      var o = void 0 === t ? null : t,\n        n = function (e, t) {\n          var i = atob(e);\n          if (t) {\n            for (var o = new Uint8Array(i.length), n = 0, a = i.length; n < a; ++n) o[n] = i.charCodeAt(n);\n            return String.fromCharCode.apply(null, new Uint16Array(o.buffer));\n          }\n          return i;\n        }(e, void 0 !== i && i),\n        a = n.indexOf(\"\\n\", 10) + 1,\n        s = n.substring(a) + (o ? \"//# sourceMappingURL=\" + o : \"\"),\n        r = new Blob([s], {\n          type: \"application/javascript\"\n        });\n      return URL.createObjectURL(r);\n    }(\"Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9Y29uc3Qgcz1lPT57dmFye2NsaWVudElkOnR9PWUscj1mdW5jdGlvbihlLHQpe3ZhciByPXt9O2Zvcih2YXIgcyBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHMpJiZ0LmluZGV4T2Yocyk8MCYmKHJbc109ZVtzXSk7aWYobnVsbCE9ZSYmImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBvPTA7Zm9yKHM9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtvPHMubGVuZ3RoO28rKyl0LmluZGV4T2Yoc1tvXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsc1tvXSkmJihyW3Nbb11dPWVbc1tvXV0pfXJldHVybiByfShlLFsiY2xpZW50SWQiXSk7cmV0dXJuIG5ldyBVUkxTZWFyY2hQYXJhbXMoKGU9Pk9iamVjdC5rZXlzKGUpLmZpbHRlcigodD0+dm9pZCAwIT09ZVt0XSkpLnJlZHVjZSgoKHQscik9Pk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSx7W3JdOmVbcl19KSkse30pKShPYmplY3QuYXNzaWduKHtjbGllbnRfaWQ6dH0scikpKS50b1N0cmluZygpfTtsZXQgbz17fTtjb25zdCBuPShlLHQpPT5gJHtlfXwke3R9YDthZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoYXN5bmMoe2RhdGE6e3RpbWVvdXQ6ZSxhdXRoOnIsZmV0Y2hVcmw6aSxmZXRjaE9wdGlvbnM6Yyx1c2VGb3JtRGF0YTphfSxwb3J0czpbZl19KT0+e2xldCBwO2NvbnN0e2F1ZGllbmNlOmwsc2NvcGU6dX09cnx8e307dHJ5e2NvbnN0IHI9YT8oZT0+e2NvbnN0IHQ9bmV3IFVSTFNlYXJjaFBhcmFtcyhlKSxyPXt9O3JldHVybiB0LmZvckVhY2goKChlLHQpPT57clt0XT1lfSkpLHJ9KShjLmJvZHkpOkpTT04ucGFyc2UoYy5ib2R5KTtpZighci5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1yLmdyYW50X3R5cGUpe2NvbnN0IGU9KChlLHQpPT5vW24oZSx0KV0pKGwsdSk7aWYoIWUpdGhyb3cgbmV3IHQobCx1KTtjLmJvZHk9YT9zKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjplfSkpOkpTT04uc3RyaW5naWZ5KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjplfSkpfWxldCBkLGc7ImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGQ9bmV3IEFib3J0Q29udHJvbGxlcixjLnNpZ25hbD1kLnNpZ25hbCk7dHJ5e2c9YXdhaXQgUHJvbWlzZS5yYWNlKFsoaD1lLG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsaCkpKSksZmV0Y2goaSxPYmplY3QuYXNzaWduKHt9LGMpKV0pfWNhdGNoKGUpe3JldHVybiB2b2lkIGYucG9zdE1lc3NhZ2Uoe2Vycm9yOmUubWVzc2FnZX0pfWlmKCFnKXJldHVybiBkJiZkLmFib3J0KCksdm9pZCBmLnBvc3RNZXNzYWdlKHtlcnJvcjoiVGltZW91dCB3aGVuIGV4ZWN1dGluZyAnZmV0Y2gnIn0pO3A9YXdhaXQgZy5qc29uKCkscC5yZWZyZXNoX3Rva2VuPygoKGUsdCxyKT0+e29bbih0LHIpXT1lfSkocC5yZWZyZXNoX3Rva2VuLGwsdSksZGVsZXRlIHAucmVmcmVzaF90b2tlbik6KChlLHQpPT57ZGVsZXRlIG9bbihlLHQpXX0pKGwsdSksZi5wb3N0TWVzc2FnZSh7b2s6Zy5vayxqc29uOnB9KX1jYXRjaChlKXtmLnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGh9KSl9KCk7Cgo=\", null, false), new Worker(F, e);\n  });\nconst M = {};\nclass A {\n  constructor(e, t) {\n    this.cache = e, this.clientId = t, this.manifestKey = this.createManifestKeyFrom(this.clientId);\n  }\n  async add(e) {\n    var t;\n    const i = new Set((null === (t = await this.cache.get(this.manifestKey)) || void 0 === t ? void 0 : t.keys) || []);\n    i.add(e), await this.cache.set(this.manifestKey, {\n      keys: [...i]\n    });\n  }\n  async remove(e) {\n    const t = await this.cache.get(this.manifestKey);\n    if (t) {\n      const i = new Set(t.keys);\n      return i.delete(e), i.size > 0 ? await this.cache.set(this.manifestKey, {\n        keys: [...i]\n      }) : await this.cache.remove(this.manifestKey);\n    }\n  }\n  get() {\n    return this.cache.get(this.manifestKey);\n  }\n  clear() {\n    return this.cache.remove(this.manifestKey);\n  }\n  createManifestKeyFrom(e) {\n    return `@@auth0spajs@@::${e}`;\n  }\n}\nconst B = {\n    memory: () => new K().enclosedCache,\n    localstorage: () => new V()\n  },\n  Q = e => B[e],\n  q = e => {\n    const {\n        openUrl: t,\n        onRedirect: i\n      } = e,\n      o = s(e, [\"openUrl\", \"onRedirect\"]);\n    return Object.assign(Object.assign({}, o), {\n      openUrl: !1 === t || t ? t : i\n    });\n  },\n  $ = new u();\nclass ee {\n  constructor(e) {\n    let t, i;\n    if (this.userCache = new K().enclosedCache, this.defaultOptions = {\n      authorizationParams: {\n        scope: \"openid profile email\"\n      },\n      useRefreshTokensFallback: !1,\n      useFormData: !0\n    }, this._releaseLockOnPageHide = async () => {\n      await $.releaseLock(\"auth0.lock.getTokenSilently\"), window.removeEventListener(\"pagehide\", this._releaseLockOnPageHide);\n    }, this.options = Object.assign(Object.assign(Object.assign({}, this.defaultOptions), e), {\n      authorizationParams: Object.assign(Object.assign({}, this.defaultOptions.authorizationParams), e.authorizationParams)\n    }), \"undefined\" != typeof window && (() => {\n      if (!I()) throw new Error(\"For security reasons, `window.crypto` is required to run `auth0-spa-js`.\");\n      if (void 0 === I().subtle) throw new Error(\"\\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\\n    \");\n    })(), e.cache && e.cacheLocation && console.warn(\"Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`.\"), e.cache) i = e.cache;else {\n      if (t = e.cacheLocation || \"memory\", !Q(t)) throw new Error(`Invalid cache location \"${t}\"`);\n      i = Q(t)();\n    }\n    this.httpTimeoutMs = e.httpTimeoutInSeconds ? 1e3 * e.httpTimeoutInSeconds : 1e4, this.cookieStorage = !1 === e.legacySameSiteCookie ? H : Y, this.orgHintCookieName = `auth0.${this.options.clientId}.organization_hint`, this.isAuthenticatedCookieName = (e => `auth0.${this.options.clientId}.is.authenticated`)(), this.sessionCheckExpiryDays = e.sessionCheckExpiryDays || 1;\n    const o = e.useCookiesForTransactions ? this.cookieStorage : E;\n    var n;\n    this.scope = X(\"openid\", this.options.authorizationParams.scope, this.options.useRefreshTokens ? \"offline_access\" : \"\"), this.transactionManager = new P(o, this.options.clientId), this.nowProvider = this.options.nowProvider || m, this.cacheManager = new W(i, i.allKeys ? void 0 : new A(i, this.options.clientId), this.nowProvider), this.domainUrl = (n = this.options.domain, /^https?:\\/\\//.test(n) ? n : `https://${n}`), this.tokenIssuer = ((e, t) => e ? e.startsWith(\"https://\") ? e : `https://${e}/` : `${t}/`)(this.options.issuer, this.domainUrl), \"undefined\" != typeof window && window.Worker && this.options.useRefreshTokens && \"memory\" === t && (this.worker = new D());\n  }\n  _url(e) {\n    const t = encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client || p)));\n    return `${this.domainUrl}${e}&auth0Client=${t}`;\n  }\n  _authorizeUrl(e) {\n    return this._url(`/authorize?${T(e)}`);\n  }\n  async _verifyIdToken(e, t, i) {\n    const o = await this.nowProvider();\n    return (e => {\n      if (!e.id_token) throw new Error(\"ID token is required but missing\");\n      const t = (e => {\n        const t = e.split(\".\"),\n          [i, o, n] = t;\n        if (3 !== t.length || !i || !o || !n) throw new Error(\"ID token could not be decoded\");\n        const a = JSON.parse(C(o)),\n          s = {\n            __raw: e\n          },\n          r = {};\n        return Object.keys(a).forEach(e => {\n          s[e] = a[e], N.includes(e) || (r[e] = a[e]);\n        }), {\n          encoded: {\n            header: i,\n            payload: o,\n            signature: n\n          },\n          header: JSON.parse(C(i)),\n          claims: s,\n          user: r\n        };\n      })(e.id_token);\n      if (!t.claims.iss) throw new Error(\"Issuer (iss) claim must be a string present in the ID token\");\n      if (t.claims.iss !== e.iss) throw new Error(`Issuer (iss) claim mismatch in the ID token; expected \"${e.iss}\", found \"${t.claims.iss}\"`);\n      if (!t.user.sub) throw new Error(\"Subject (sub) claim must be a string present in the ID token\");\n      if (\"RS256\" !== t.header.alg) throw new Error(`Signature algorithm of \"${t.header.alg}\" is not supported. Expected the ID token to be signed with \"RS256\".`);\n      if (!t.claims.aud || \"string\" != typeof t.claims.aud && !Array.isArray(t.claims.aud)) throw new Error(\"Audience (aud) claim must be a string or array of strings present in the ID token\");\n      if (Array.isArray(t.claims.aud)) {\n        if (!t.claims.aud.includes(e.aud)) throw new Error(`Audience (aud) claim mismatch in the ID token; expected \"${e.aud}\" but was not one of \"${t.claims.aud.join(\", \")}\"`);\n        if (t.claims.aud.length > 1) {\n          if (!t.claims.azp) throw new Error(\"Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values\");\n          if (t.claims.azp !== e.aud) throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected \"${e.aud}\", found \"${t.claims.azp}\"`);\n        }\n      } else if (t.claims.aud !== e.aud) throw new Error(`Audience (aud) claim mismatch in the ID token; expected \"${e.aud}\" but found \"${t.claims.aud}\"`);\n      if (e.nonce) {\n        if (!t.claims.nonce) throw new Error(\"Nonce (nonce) claim must be a string present in the ID token\");\n        if (t.claims.nonce !== e.nonce) throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected \"${e.nonce}\", found \"${t.claims.nonce}\"`);\n      }\n      if (e.max_age && !L(t.claims.auth_time)) throw new Error(\"Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified\");\n      if (null == t.claims.exp || !L(t.claims.exp)) throw new Error(\"Expiration Time (exp) claim must be a number present in the ID token\");\n      if (!L(t.claims.iat)) throw new Error(\"Issued At (iat) claim must be a number present in the ID token\");\n      const i = e.leeway || 60,\n        o = new Date(e.now || Date.now()),\n        n = new Date(0);\n      if (n.setUTCSeconds(t.claims.exp + i), o > n) throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${o}) is after expiration time (${n})`);\n      if (null != t.claims.nbf && L(t.claims.nbf)) {\n        const e = new Date(0);\n        if (e.setUTCSeconds(t.claims.nbf - i), o < e) throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${o}) is before ${e}`);\n      }\n      if (null != t.claims.auth_time && L(t.claims.auth_time)) {\n        const n = new Date(0);\n        if (n.setUTCSeconds(parseInt(t.claims.auth_time) + e.max_age + i), o > n) throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${o}) is after last auth at ${n}`);\n      }\n      if (e.organizationId) {\n        if (!t.claims.org_id) throw new Error(\"Organization ID (org_id) claim must be a string present in the ID token\");\n        if (e.organizationId !== t.claims.org_id) throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected \"${e.organizationId}\", found \"${t.claims.org_id}\"`);\n      }\n      return t;\n    })({\n      iss: this.tokenIssuer,\n      aud: this.options.clientId,\n      id_token: e,\n      nonce: t,\n      organizationId: i,\n      leeway: this.options.leeway,\n      max_age: (n = this.options.authorizationParams.max_age, \"string\" != typeof n ? n : parseInt(n, 10) || void 0),\n      now: o\n    });\n    var n;\n  }\n  _processOrgIdHint(e) {\n    e ? this.cookieStorage.save(this.orgHintCookieName, e, {\n      daysUntilExpire: this.sessionCheckExpiryDays,\n      cookieDomain: this.options.cookieDomain\n    }) : this.cookieStorage.remove(this.orgHintCookieName, {\n      cookieDomain: this.options.cookieDomain\n    });\n  }\n  async _prepareAuthorizeUrl(e, t, i) {\n    const o = Z(S()),\n      n = Z(S()),\n      a = S(),\n      s = (e => {\n        const t = new Uint8Array(e);\n        return (e => {\n          const t = {\n            \"+\": \"-\",\n            \"/\": \"_\",\n            \"=\": \"\"\n          };\n          return e.replace(/[+/=]/g, e => t[e]);\n        })(window.btoa(String.fromCharCode(...Array.from(t))));\n      })(await (async e => {\n        const t = I().subtle.digest({\n          name: \"SHA-256\"\n        }, new TextEncoder().encode(e));\n        return await t;\n      })(a)),\n      r = ((e, t, i, o, n, a, s, r) => Object.assign(Object.assign(Object.assign({\n        client_id: e.clientId\n      }, e.authorizationParams), i), {\n        scope: X(t, i.scope),\n        response_type: \"code\",\n        response_mode: r || \"query\",\n        state: o,\n        nonce: n,\n        redirect_uri: s || e.authorizationParams.redirect_uri,\n        code_challenge: a,\n        code_challenge_method: \"S256\"\n      }))(this.options, this.scope, e, o, n, s, e.redirect_uri || this.options.authorizationParams.redirect_uri || i, null == t ? void 0 : t.response_mode),\n      c = this._authorizeUrl(r);\n    return {\n      nonce: n,\n      code_verifier: a,\n      scope: r.scope,\n      audience: r.audience || \"default\",\n      redirect_uri: r.redirect_uri,\n      state: o,\n      url: c\n    };\n  }\n  async loginWithPopup(e, t) {\n    var i;\n    if (e = e || {}, !(t = t || {}).popup && (t.popup = (e => {\n      const t = window.screenX + (window.innerWidth - 400) / 2,\n        i = window.screenY + (window.innerHeight - 600) / 2;\n      return window.open(\"\", \"auth0:authorize:popup\", `left=${t},top=${i},width=400,height=600,resizable,scrollbars=yes,status=1`);\n    })(), !t.popup)) throw new Error(\"Unable to open a popup for loginWithPopup - window.open returned `null`\");\n    const o = await this._prepareAuthorizeUrl(e.authorizationParams || {}, {\n      response_mode: \"web_message\"\n    }, window.location.origin);\n    t.popup.location.href = o.url;\n    const n = await (e => new Promise((t, i) => {\n      let o;\n      const n = setInterval(() => {\n          e.popup && e.popup.closed && (clearInterval(n), clearTimeout(a), window.removeEventListener(\"message\", o, !1), i(new b(e.popup)));\n        }, 1e3),\n        a = setTimeout(() => {\n          clearInterval(n), i(new w(e.popup)), window.removeEventListener(\"message\", o, !1);\n        }, 1e3 * (e.timeoutInSeconds || 60));\n      o = function (s) {\n        if (s.data && \"authorization_response\" === s.data.type) {\n          if (clearTimeout(a), clearInterval(n), window.removeEventListener(\"message\", o, !1), e.popup.close(), s.data.response.error) return i(f.fromPayload(s.data.response));\n          t(s.data.response);\n        }\n      }, window.addEventListener(\"message\", o);\n    }))(Object.assign(Object.assign({}, t), {\n      timeoutInSeconds: t.timeoutInSeconds || this.options.authorizeTimeoutInSeconds || 60\n    }));\n    if (o.state !== n.state) throw new Error(\"Invalid state\");\n    const a = (null === (i = e.authorizationParams) || void 0 === i ? void 0 : i.organization) || this.options.authorizationParams.organization;\n    await this._requestToken({\n      audience: o.audience,\n      scope: o.scope,\n      code_verifier: o.code_verifier,\n      grant_type: \"authorization_code\",\n      code: n.code,\n      redirect_uri: o.redirect_uri\n    }, {\n      nonceIn: o.nonce,\n      organizationId: a\n    });\n  }\n  async getUser() {\n    var e;\n    const t = await this._getIdTokenFromCache();\n    return null === (e = null == t ? void 0 : t.decodedToken) || void 0 === e ? void 0 : e.user;\n  }\n  async getIdTokenClaims() {\n    var e;\n    const t = await this._getIdTokenFromCache();\n    return null === (e = null == t ? void 0 : t.decodedToken) || void 0 === e ? void 0 : e.claims;\n  }\n  async loginWithRedirect(e = {}) {\n    var t;\n    const i = q(e),\n      {\n        openUrl: o,\n        fragment: n,\n        appState: a\n      } = i,\n      r = s(i, [\"openUrl\", \"fragment\", \"appState\"]),\n      c = (null === (t = r.authorizationParams) || void 0 === t ? void 0 : t.organization) || this.options.authorizationParams.organization,\n      l = await this._prepareAuthorizeUrl(r.authorizationParams || {}),\n      {\n        url: d\n      } = l,\n      u = s(l, [\"url\"]);\n    this.transactionManager.create(Object.assign(Object.assign(Object.assign({}, u), {\n      appState: a\n    }), c && {\n      organizationId: c\n    }));\n    const h = n ? `${d}#${n}` : d;\n    o ? await o(h) : window.location.assign(h);\n  }\n  async handleRedirectCallback(e = window.location.href) {\n    const t = e.split(\"?\").slice(1);\n    if (0 === t.length) throw new Error(\"There are no query params available for parsing.\");\n    const {\n        state: i,\n        code: o,\n        error: n,\n        error_description: a\n      } = (e => {\n        e.indexOf(\"#\") > -1 && (e = e.substr(0, e.indexOf(\"#\")));\n        const t = e.split(\"&\"),\n          i = {};\n        return t.forEach(e => {\n          const [t, o] = e.split(\"=\");\n          i[t] = decodeURIComponent(o);\n        }), i.expires_in && (i.expires_in = parseInt(i.expires_in)), i;\n      })(t.join(\"\")),\n      s = this.transactionManager.get();\n    if (!s) throw new Error(\"Invalid state\");\n    if (this.transactionManager.remove(), n) throw new g(n, a || n, i, s.appState);\n    if (!s.code_verifier || s.state && s.state !== i) throw new Error(\"Invalid state\");\n    const r = s.organizationId,\n      c = s.nonce,\n      l = s.redirect_uri;\n    return await this._requestToken(Object.assign({\n      audience: s.audience,\n      scope: s.scope,\n      code_verifier: s.code_verifier,\n      grant_type: \"authorization_code\",\n      code: o\n    }, l ? {\n      redirect_uri: l\n    } : {}), {\n      nonceIn: c,\n      organizationId: r\n    }), {\n      appState: s.appState\n    };\n  }\n  async checkSession(e) {\n    if (!this.cookieStorage.get(this.isAuthenticatedCookieName)) {\n      if (!this.cookieStorage.get(\"auth0.is.authenticated\")) return;\n      this.cookieStorage.save(this.isAuthenticatedCookieName, !0, {\n        daysUntilExpire: this.sessionCheckExpiryDays,\n        cookieDomain: this.options.cookieDomain\n      }), this.cookieStorage.remove(\"auth0.is.authenticated\");\n    }\n    try {\n      await this.getTokenSilently(e);\n    } catch (e) {}\n  }\n  async getTokenSilently(e = {}) {\n    var t;\n    const i = Object.assign(Object.assign({\n        cacheMode: \"on\"\n      }, e), {\n        authorizationParams: Object.assign(Object.assign(Object.assign({}, this.options.authorizationParams), e.authorizationParams), {\n          scope: X(this.scope, null === (t = e.authorizationParams) || void 0 === t ? void 0 : t.scope)\n        })\n      }),\n      o = await ((e, t) => {\n        let i = M[t];\n        return i || (i = e().finally(() => {\n          delete M[t], i = null;\n        }), M[t] = i), i;\n      })(() => this._getTokenSilently(i), `${this.options.clientId}::${i.authorizationParams.audience}::${i.authorizationParams.scope}`);\n    return e.detailedResponse ? o : null == o ? void 0 : o.access_token;\n  }\n  async _getTokenSilently(e) {\n    const {\n        cacheMode: t\n      } = e,\n      i = s(e, [\"cacheMode\"]);\n    if (\"off\" !== t) {\n      const e = await this._getEntryFromCache({\n        scope: i.authorizationParams.scope,\n        audience: i.authorizationParams.audience || \"default\",\n        clientId: this.options.clientId\n      });\n      if (e) return e;\n    }\n    if (\"cache-only\" !== t) {\n      if (!(await (async (e, t = 3) => {\n        for (let i = 0; i < t; i++) if (await e()) return !0;\n        return !1;\n      })(() => $.acquireLock(\"auth0.lock.getTokenSilently\", 5e3), 10))) throw new y();\n      try {\n        if (window.addEventListener(\"pagehide\", this._releaseLockOnPageHide), \"off\" !== t) {\n          const e = await this._getEntryFromCache({\n            scope: i.authorizationParams.scope,\n            audience: i.authorizationParams.audience || \"default\",\n            clientId: this.options.clientId\n          });\n          if (e) return e;\n        }\n        const e = this.options.useRefreshTokens ? await this._getTokenUsingRefreshToken(i) : await this._getTokenFromIFrame(i),\n          {\n            id_token: o,\n            access_token: n,\n            oauthTokenScope: a,\n            expires_in: s\n          } = e;\n        return Object.assign(Object.assign({\n          id_token: o,\n          access_token: n\n        }, a ? {\n          scope: a\n        } : null), {\n          expires_in: s\n        });\n      } finally {\n        await $.releaseLock(\"auth0.lock.getTokenSilently\"), window.removeEventListener(\"pagehide\", this._releaseLockOnPageHide);\n      }\n    }\n  }\n  async getTokenWithPopup(e = {}, t = {}) {\n    var i;\n    const o = Object.assign(Object.assign({}, e), {\n      authorizationParams: Object.assign(Object.assign(Object.assign({}, this.options.authorizationParams), e.authorizationParams), {\n        scope: X(this.scope, null === (i = e.authorizationParams) || void 0 === i ? void 0 : i.scope)\n      })\n    });\n    return t = Object.assign(Object.assign({}, h), t), await this.loginWithPopup(o, t), (await this.cacheManager.get(new z({\n      scope: o.authorizationParams.scope,\n      audience: o.authorizationParams.audience || \"default\",\n      clientId: this.options.clientId\n    }))).access_token;\n  }\n  async isAuthenticated() {\n    return !!(await this.getUser());\n  }\n  _buildLogoutUrl(e) {\n    null !== e.clientId ? e.clientId = e.clientId || this.options.clientId : delete e.clientId;\n    const t = e.logoutParams || {},\n      {\n        federated: i\n      } = t,\n      o = s(t, [\"federated\"]),\n      n = i ? \"&federated\" : \"\";\n    return this._url(`/v2/logout?${T(Object.assign({\n      clientId: e.clientId\n    }, o))}`) + n;\n  }\n  async logout(e = {}) {\n    const t = q(e),\n      {\n        openUrl: i\n      } = t,\n      o = s(t, [\"openUrl\"]);\n    await this.cacheManager.clear(), this.cookieStorage.remove(this.orgHintCookieName, {\n      cookieDomain: this.options.cookieDomain\n    }), this.cookieStorage.remove(this.isAuthenticatedCookieName, {\n      cookieDomain: this.options.cookieDomain\n    }), this.userCache.remove(\"@@user@@\");\n    const n = this._buildLogoutUrl(o);\n    i ? await i(n) : !1 !== i && window.location.assign(n);\n  }\n  async _getTokenFromIFrame(e) {\n    const t = Object.assign(Object.assign({}, e.authorizationParams), {\n        prompt: \"none\"\n      }),\n      i = this.cookieStorage.get(this.orgHintCookieName);\n    i && !t.organization && (t.organization = i);\n    const {\n      url: o,\n      state: n,\n      nonce: a,\n      code_verifier: s,\n      redirect_uri: r,\n      scope: c,\n      audience: l\n    } = await this._prepareAuthorizeUrl(t, {\n      response_mode: \"web_message\"\n    }, window.location.origin);\n    try {\n      if (window.crossOriginIsolated) throw new f(\"login_required\", \"The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.\");\n      const t = e.timeoutInSeconds || this.options.authorizeTimeoutInSeconds,\n        i = await ((e, t, i = 60) => new Promise((o, n) => {\n          const a = window.document.createElement(\"iframe\");\n          a.setAttribute(\"width\", \"0\"), a.setAttribute(\"height\", \"0\"), a.style.display = \"none\";\n          const s = () => {\n            window.document.body.contains(a) && (window.document.body.removeChild(a), window.removeEventListener(\"message\", r, !1));\n          };\n          let r;\n          const c = setTimeout(() => {\n            n(new y()), s();\n          }, 1e3 * i);\n          r = function (e) {\n            if (e.origin != t) return;\n            if (!e.data || \"authorization_response\" !== e.data.type) return;\n            const i = e.source;\n            i && i.close(), e.data.response.error ? n(f.fromPayload(e.data.response)) : o(e.data.response), clearTimeout(c), window.removeEventListener(\"message\", r, !1), setTimeout(s, 2e3);\n          }, window.addEventListener(\"message\", r, !1), window.document.body.appendChild(a), a.setAttribute(\"src\", e);\n        }))(o, this.domainUrl, t);\n      if (n !== i.state) throw new Error(\"Invalid state\");\n      const d = await this._requestToken(Object.assign(Object.assign({}, e.authorizationParams), {\n        code_verifier: s,\n        code: i.code,\n        grant_type: \"authorization_code\",\n        redirect_uri: r,\n        timeout: e.authorizationParams.timeout || this.httpTimeoutMs\n      }), {\n        nonceIn: a\n      });\n      return Object.assign(Object.assign({}, d), {\n        scope: c,\n        oauthTokenScope: d.scope,\n        audience: l\n      });\n    } catch (e) {\n      throw \"login_required\" === e.error && this.logout({\n        openUrl: !1\n      }), e;\n    }\n  }\n  async _getTokenUsingRefreshToken(e) {\n    const t = await this.cacheManager.get(new z({\n      scope: e.authorizationParams.scope,\n      audience: e.authorizationParams.audience || \"default\",\n      clientId: this.options.clientId\n    }));\n    if (!(t && t.refresh_token || this.worker)) {\n      if (this.options.useRefreshTokensFallback) return await this._getTokenFromIFrame(e);\n      throw new v(e.authorizationParams.audience || \"default\", e.authorizationParams.scope);\n    }\n    const i = e.authorizationParams.redirect_uri || this.options.authorizationParams.redirect_uri || window.location.origin,\n      o = \"number\" == typeof e.timeoutInSeconds ? 1e3 * e.timeoutInSeconds : null;\n    try {\n      const n = await this._requestToken(Object.assign(Object.assign(Object.assign({}, e.authorizationParams), {\n        grant_type: \"refresh_token\",\n        refresh_token: t && t.refresh_token,\n        redirect_uri: i\n      }), o && {\n        timeout: o\n      }));\n      return Object.assign(Object.assign({}, n), {\n        scope: e.authorizationParams.scope,\n        oauthTokenScope: n.scope,\n        audience: e.authorizationParams.audience || \"default\"\n      });\n    } catch (t) {\n      if ((t.message.indexOf(\"Missing Refresh Token\") > -1 || t.message && t.message.indexOf(\"invalid refresh token\") > -1) && this.options.useRefreshTokensFallback) return await this._getTokenFromIFrame(e);\n      throw t;\n    }\n  }\n  async _saveEntryInCache(e) {\n    const {\n        id_token: t,\n        decodedToken: i\n      } = e,\n      o = s(e, [\"id_token\", \"decodedToken\"]);\n    this.userCache.set(\"@@user@@\", {\n      id_token: t,\n      decodedToken: i\n    }), await this.cacheManager.setIdToken(this.options.clientId, e.id_token, e.decodedToken), await this.cacheManager.set(o);\n  }\n  async _getIdTokenFromCache() {\n    const e = this.options.authorizationParams.audience || \"default\",\n      t = await this.cacheManager.getIdToken(new z({\n        clientId: this.options.clientId,\n        audience: e,\n        scope: this.scope\n      })),\n      i = this.userCache.get(\"@@user@@\");\n    return t && t.id_token === (null == i ? void 0 : i.id_token) ? i : (this.userCache.set(\"@@user@@\", t), t);\n  }\n  async _getEntryFromCache({\n    scope: e,\n    audience: t,\n    clientId: i\n  }) {\n    const o = await this.cacheManager.get(new z({\n      scope: e,\n      audience: t,\n      clientId: i\n    }), 60);\n    if (o && o.access_token) {\n      const {\n          access_token: e,\n          oauthTokenScope: t,\n          expires_in: i\n        } = o,\n        n = await this._getIdTokenFromCache();\n      return n && Object.assign(Object.assign({\n        id_token: n.id_token,\n        access_token: e\n      }, t ? {\n        scope: t\n      } : null), {\n        expires_in: i\n      });\n    }\n  }\n  async _requestToken(e, t) {\n    const {\n        nonceIn: i,\n        organizationId: o\n      } = t || {},\n      n = await O(Object.assign({\n        baseUrl: this.domainUrl,\n        client_id: this.options.clientId,\n        auth0Client: this.options.auth0Client,\n        useFormData: this.options.useFormData,\n        timeout: this.httpTimeoutMs\n      }, e), this.worker),\n      a = await this._verifyIdToken(n.id_token, i, o);\n    return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({}, n), {\n      decodedToken: a,\n      scope: e.scope,\n      audience: e.audience || \"default\"\n    }), n.scope ? {\n      oauthTokenScope: n.scope\n    } : null), {\n      client_id: this.options.clientId\n    })), this.cookieStorage.save(this.isAuthenticatedCookieName, !0, {\n      daysUntilExpire: this.sessionCheckExpiryDays,\n      cookieDomain: this.options.cookieDomain\n    }), this._processOrgIdHint(a.claims.org_id), Object.assign(Object.assign({}, n), {\n      decodedToken: a\n    });\n  }\n}\nclass te {}\nfunction ie(t) {\n  return new Promise(i => {\n    !function (t, i) {\n      const o = e(() => {\n        t() && (i(), o());\n      });\n    }(t, i);\n  });\n}\nconst oe = t(null);\nclass ne {\n  constructor(e, o) {\n    var n, a;\n    this.clientOptions = e, this.pluginOptions = o, this._isLoading = t(!0), this._isAuthenticated = t(!1), this._user = t({}), this._idTokenClaims = t(), this._error = t(null), this.isLoading = i(this._isLoading), this.isAuthenticated = i(this._isAuthenticated), this.user = i(this._user), this.idTokenClaims = i(this._idTokenClaims), this.error = i(this._error), n = this, a = [\"constructor\"], Object.getOwnPropertyNames(Object.getPrototypeOf(n)).filter(e => !a.includes(e)).forEach(e => n[e] = n[e].bind(n));\n  }\n  install(e) {\n    this._client = new ee(Object.assign(Object.assign({}, this.clientOptions), {\n      auth0Client: {\n        name: \"auth0-vue\",\n        version: \"2.0.0\"\n      }\n    })), this.__checkSession(e.config.globalProperties.$router), e.config.globalProperties.$auth0 = this, e.provide(a, this), oe.value = this;\n  }\n  async loginWithRedirect(e) {\n    return this._client.loginWithRedirect(e);\n  }\n  async loginWithPopup(e, t) {\n    return this.__proxy(() => this._client.loginWithPopup(e, t));\n  }\n  async logout(e) {\n    return (null == e ? void 0 : e.openUrl) || !1 === (null == e ? void 0 : e.openUrl) ? this.__proxy(() => this._client.logout(e)) : this._client.logout(e);\n  }\n  async getAccessTokenSilently(e = {}) {\n    return this.__proxy(() => this._client.getTokenSilently(e));\n  }\n  async getAccessTokenWithPopup(e, t) {\n    return this.__proxy(() => this._client.getTokenWithPopup(e, t));\n  }\n  async checkSession(e) {\n    return this.__proxy(() => this._client.checkSession(e));\n  }\n  async handleRedirectCallback(e) {\n    return this.__proxy(() => this._client.handleRedirectCallback(e));\n  }\n  async __checkSession(e) {\n    var t, i;\n    const o = window.location.search;\n    if ((o.includes(\"code=\") || o.includes(\"error=\")) && o.includes(\"state=\") && !(null === (t = this.pluginOptions) || void 0 === t ? void 0 : t.skipRedirectCallback)) {\n      const t = await this.handleRedirectCallback(),\n        o = null == t ? void 0 : t.appState,\n        n = null !== (i = null == o ? void 0 : o.target) && void 0 !== i ? i : \"/\";\n      return window.history.replaceState({}, \"\", \"/\"), e && e.push(n), t;\n    }\n    await this.checkSession();\n  }\n  async __refreshState() {\n    this._isAuthenticated.value = await this._client.isAuthenticated(), this._user.value = await this._client.getUser(), this._idTokenClaims.value = await this._client.getIdTokenClaims(), this._isLoading.value = !1;\n  }\n  async __proxy(e, t = !0) {\n    let i;\n    try {\n      i = await e(), this._error.value = null;\n    } catch (e) {\n      throw this._error.value = e, e;\n    } finally {\n      t && (await this.__refreshState());\n    }\n    return i;\n  }\n}\nasync function ae(e, t) {\n  const i = async () => !!o(e.isAuthenticated) || (await e.loginWithRedirect({\n    appState: {\n      target: t.fullPath\n    }\n  }), !1);\n  return o(e.isLoading) ? (await ie(() => !o(e.isLoading)), i()) : i();\n}\nfunction se(e) {\n  return async t => ae(e.config.globalProperties.$auth0, t);\n}\nasync function re(e) {\n  return ae(o(oe), e);\n}\nfunction ce(e, t) {\n  return new ne(e, t);\n}\nfunction le() {\n  return n(a);\n}\nexport { a as AUTH0_INJECTION_KEY, ne as Auth0Plugin, K as InMemoryCache, V as LocalStorageCache, te as User, re as authGuard, ce as createAuth0, se as createAuthGuard, le as useAuth0 };","map":{"version":3,"mappings":"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","names":["AUTH0_INJECTION_KEY","Symbol","e","t","i","o","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","n","length","propertyIsEnumerable","globalThis","window","global","self","__esModule","default","exports","defineProperty","value","this","locked","Map","addToLocked","get","set","unshift","isLocked","has","lock","Promise","unlock","pop","setTimeout","delete","getInstance","instance","a","__awaiter","s","c","next","r","throw","done","then","apply","__generator","label","sent","trys","ops","return","iterator","TypeError","push","Math","floor","random","d","acquiredIatSet","Set","id","Date","now","toString","acquireLock","bind","releaseLock","releaseLock__private__","waitForSomethingToChange","refreshLockWhileAcquired","waiters","u","l","h","localStorage","getItem","setItem","JSON","stringify","iat","timeoutKey","timeAcquired","timeRefreshed","parse","add","lockCorrector","removeEventListener","removeFromWaiting","clearTimeout","addEventListener","addToWaiting","max","filter","notifyWaiters","slice","forEach","removeItem","keys","includes","timeoutInSeconds","name","version","Error","constructor","super","error","error_description","setPrototypeOf","static","state","appState","popup","p","m","mfa_token","f","w","audience","scope","g","crypto","y","Array","from","getRandomValues","Uint8Array","k","btoa","b","clientId","URLSearchParams","reduce","assign","client_id","v","decodeURIComponent","atob","split","map","charCodeAt","join","replace","_","async","fetch","ok","json","T","auth","timeout","fetchUrl","fetchOptions","useFormData","MessageChannel","port1","onmessage","data","close","postMessage","port2","AbortController","signal","race","abort","finally","O","baseUrl","auth0Client","method","body","headers","j","Boolean","trim","C","prefix","suffix","toKey","x","remove","allKeys","startsWith","z","enclosedCache","P","cache","keyManifest","nowProvider","getIdTokenCacheKey","id_token","decodedToken","getCacheKeys","matchExistingCacheKey","expiresAt","refresh_token","wrapCacheEntry","resolve","clear","expires_in","fromKey","Z","storage","storageKey","transaction","create","save","daysUntilExpire","K","E","U","__assign","arguments","encodeURIComponent","expires","setMilliseconds","getMilliseconds","toUTCString","domain","path","secure","sameSite","charAt","document","cookie","encode","getAll","N","W","R","X","location","protocol","cookieDomain","V","D","sessionStorage","M","A","String","fromCharCode","Uint16Array","buffer","substring","Blob","type","URL","createObjectURL","J","Worker","Y","$","manifestKey","createManifestKeyFrom","size","B","memory","localstorage","q","Q","openUrl","onRedirect","ee","te","userCache","defaultOptions","authorizationParams","useRefreshTokensFallback","_releaseLockOnPageHide","options","subtle","cacheLocation","console","warn","httpTimeoutMs","httpTimeoutInSeconds","cookieStorage","legacySameSiteCookie","orgHintCookieName","isAuthenticatedCookieName","sessionCheckExpiryDays","useCookiesForTransactions","useRefreshTokens","transactionManager","cacheManager","domainUrl","test","tokenIssuer","issuer","worker","_url","_authorizeUrl","__raw","encoded","header","payload","signature","claims","user","iss","sub","alg","aud","isArray","azp","nonce","max_age","auth_time","exp","leeway","setUTCSeconds","nbf","parseInt","organizationId","org_id","_processOrgIdHint","digest","TextEncoder","response_type","response_mode","redirect_uri","code_challenge","code_challenge_method","code_verifier","url","screenX","innerWidth","screenY","innerHeight","open","_prepareAuthorizeUrl","origin","href","setInterval","closed","clearInterval","response","fromPayload","authorizeTimeoutInSeconds","organization","_requestToken","grant_type","code","nonceIn","_getIdTokenFromCache","fragment","substr","getTokenSilently","cacheMode","_getTokenSilently","detailedResponse","access_token","_getEntryFromCache","_getTokenUsingRefreshToken","_getTokenFromIFrame","oauthTokenScope","loginWithPopup","getUser","_buildLogoutUrl","logoutParams","federated","prompt","crossOriginIsolated","createElement","setAttribute","style","display","contains","removeChild","source","appendChild","logout","message","setIdToken","getIdToken","_verifyIdToken","_saveEntryInCache","ie","watchEffectOnceAsync","watcher","fn","stopWatch","watchEffect","watchEffectOnce","client","ref","Auth0Plugin","clientOptions","pluginOptions","plugin","exclude","_idTokenClaims","readonly","_isLoading","_isAuthenticated","_user","_error","getOwnPropertyNames","getPrototypeOf","install","app","_client","Auth0Client","__checkSession","config","globalProperties","$router","$auth0","provide","loginWithRedirect","__proxy","getTokenWithPopup","checkSession","handleRedirectCallback","router","search","result","target","_b","history","replaceState","isAuthenticated","getIdTokenClaims","cb","refreshState","__refreshState","createGuardHandler","to","unref","fullPath","isLoading","createAuthGuard","authGuard","useAuth0","inject"],"sources":["../src/token.ts","../node_modules/@auth0/auth0-spa-js/dist/auth0-spa-js.production.esm.js","../src/utils.ts","../src/plugin.ts","../src/version.ts","../src/guard.ts","../src/index.ts"],"sourcesContent":["import type { InjectionKey } from 'vue';\nimport type { Auth0VueClient } from './interfaces';\n\n/**\n * @ignore\n */\nexport const AUTH0_TOKEN = '$auth0';\n\n/**\n * Injection token used to `provide` the `Auth0VueClient` instance. Can be used to pass to `inject()`\n *\n * ```js\n * inject(AUTH0_INJECTION_KEY)\n * ```\n */\nexport const AUTH0_INJECTION_KEY: InjectionKey<Auth0VueClient> =\n  Symbol(AUTH0_TOKEN);\n","function e(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(i[o[n]]=e[o[n]])}return i}var t=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}function o(e,t){return e(t={exports:{}},t.exports),t.exports}var n=o((function(e,t){Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(){var e=this;this.locked=new Map,this.addToLocked=function(t,i){var o=e.locked.get(t);void 0===o?void 0===i?e.locked.set(t,[]):e.locked.set(t,[i]):void 0!==i&&(o.unshift(i),e.locked.set(t,o))},this.isLocked=function(t){return e.locked.has(t)},this.lock=function(t){return new Promise((function(i,o){e.isLocked(t)?e.addToLocked(t,i):(e.addToLocked(t),i())}))},this.unlock=function(t){var i=e.locked.get(t);if(void 0!==i&&0!==i.length){var o=i.pop();e.locked.set(t,i),void 0!==o&&setTimeout(o,0)}else e.locked.delete(t)}}return e.getInstance=function(){return void 0===e.instance&&(e.instance=new e),e.instance},e}();t.default=function(){return i.getInstance()}}));i(n);var a=i(o((function(e,i){var o=t&&t.__awaiter||function(e,t,i,o){return new(i||(i=Promise))((function(n,a){function s(e){try{c(o.next(e))}catch(e){a(e)}}function r(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):new i((function(t){t(e.value)})).then(s,r)}c((o=o.apply(e,t||[])).next())}))},a=t&&t.__generator||function(e,t){var i,o,n,a,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},\"function\"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(i)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(i=1,o&&(n=2&a[0]?o.return:a[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,a[1])).done)return n;switch(o=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,o=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){s.label=a[1];break}if(6===a[0]&&s.label<n[1]){s.label=n[1],n=a;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(a);break}n[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],o=0}finally{i=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}};Object.defineProperty(i,\"__esModule\",{value:!0});var s=\"browser-tabs-lock-key\";function r(e){return new Promise((function(t){return setTimeout(t,e)}))}function c(e){for(var t=\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz\",i=\"\",o=0;o<e;o++){i+=t[Math.floor(Math.random()*t.length)]}return i}var d=function(){function e(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+c(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),void 0===e.waiters&&(e.waiters=[])}return e.prototype.acquireLock=function(t,i){return void 0===i&&(i=5e3),o(this,void 0,void 0,(function(){var o,n,d,u,l,h;return a(this,(function(a){switch(a.label){case 0:o=Date.now()+c(4),n=Date.now()+i,d=s+\"-\"+t,u=window.localStorage,a.label=1;case 1:return Date.now()<n?[4,r(30)]:[3,8];case 2:return a.sent(),null!==u.getItem(d)?[3,5]:(l=this.id+\"-\"+t+\"-\"+o,[4,r(Math.floor(25*Math.random()))]);case 3:return a.sent(),u.setItem(d,JSON.stringify({id:this.id,iat:o,timeoutKey:l,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,r(30)];case 4:return a.sent(),null!==(h=u.getItem(d))&&(h=JSON.parse(h)).id===this.id&&h.iat===o?(this.acquiredIatSet.add(o),this.refreshLockWhileAcquired(d,o),[2,!0]):[3,7];case 5:return e.lockCorrector(),[4,this.waitForSomethingToChange(n)];case 6:a.sent(),a.label=7;case 7:return o=Date.now()+c(4),[3,1];case 8:return[2,!1]}}))}))},e.prototype.refreshLockWhileAcquired=function(e,t){return o(this,void 0,void 0,(function(){var i=this;return a(this,(function(s){return setTimeout((function(){return o(i,void 0,void 0,(function(){var i,o;return a(this,(function(a){switch(a.label){case 0:return[4,n.default().lock(t)];case 1:return a.sent(),this.acquiredIatSet.has(t)?(i=window.localStorage,null===(o=i.getItem(e))?(n.default().unlock(t),[2]):((o=JSON.parse(o)).timeRefreshed=Date.now(),i.setItem(e,JSON.stringify(o)),n.default().unlock(t),this.refreshLockWhileAcquired(e,t),[2])):(n.default().unlock(t),[2])}}))}))}),1e3),[2]}))}))},e.prototype.waitForSomethingToChange=function(t){return o(this,void 0,void 0,(function(){return a(this,(function(i){switch(i.label){case 0:return[4,new Promise((function(i){var o=!1,n=Date.now(),a=!1;function s(){if(a||(window.removeEventListener(\"storage\",s),e.removeFromWaiting(s),clearTimeout(r),a=!0),!o){o=!0;var t=50-(Date.now()-n);t>0?setTimeout(i,t):i()}}window.addEventListener(\"storage\",s),e.addToWaiting(s);var r=setTimeout(s,Math.max(0,t-Date.now()))}))];case 1:return i.sent(),[2]}}))}))},e.addToWaiting=function(t){this.removeFromWaiting(t),void 0!==e.waiters&&e.waiters.push(t)},e.removeFromWaiting=function(t){void 0!==e.waiters&&(e.waiters=e.waiters.filter((function(e){return e!==t})))},e.notifyWaiters=function(){void 0!==e.waiters&&e.waiters.slice().forEach((function(e){return e()}))},e.prototype.releaseLock=function(e){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this.releaseLock__private__(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.releaseLock__private__=function(t){return o(this,void 0,void 0,(function(){var i,o,r;return a(this,(function(a){switch(a.label){case 0:return i=window.localStorage,o=s+\"-\"+t,null===(r=i.getItem(o))?[2]:(r=JSON.parse(r)).id!==this.id?[3,2]:[4,n.default().lock(r.iat)];case 1:a.sent(),this.acquiredIatSet.delete(r.iat),i.removeItem(o),n.default().unlock(r.iat),e.notifyWaiters(),a.label=2;case 2:return[2]}}))}))},e.lockCorrector=function(){for(var t=Date.now()-5e3,i=window.localStorage,o=Object.keys(i),n=!1,a=0;a<o.length;a++){var r=o[a];if(r.includes(s)){var c=i.getItem(r);null!==c&&(void 0===(c=JSON.parse(c)).timeRefreshed&&c.timeAcquired<t||void 0!==c.timeRefreshed&&c.timeRefreshed<t)&&(i.removeItem(r),n=!0)}}n&&e.notifyWaiters()},e.waiters=void 0,e}();i.default=d})));const s={timeoutInSeconds:60},r={name:\"auth0-spa-js\",version:\"2.0.1\"},c=()=>Date.now();class d extends Error{constructor(e,t){super(t),this.error=e,this.error_description=t,Object.setPrototypeOf(this,d.prototype)}static fromPayload({error:e,error_description:t}){return new d(e,t)}}class u extends d{constructor(e,t,i,o=null){super(e,t),this.state=i,this.appState=o,Object.setPrototypeOf(this,u.prototype)}}class l extends d{constructor(){super(\"timeout\",\"Timeout\"),Object.setPrototypeOf(this,l.prototype)}}class h extends l{constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,h.prototype)}}class p extends d{constructor(e){super(\"cancelled\",\"Popup closed\"),this.popup=e,Object.setPrototypeOf(this,p.prototype)}}class m extends d{constructor(e,t,i){super(e,t),this.mfa_token=i,Object.setPrototypeOf(this,m.prototype)}}class f extends d{constructor(e,t){super(\"missing_refresh_token\",`Missing Refresh Token (audience: '${w(e,[\"default\"])}', scope: '${w(t)}')`),this.audience=e,this.scope=t,Object.setPrototypeOf(this,f.prototype)}}function w(e,t=[]){return e&&!t.includes(e)?e:\"\"}const g=()=>window.crypto,y=()=>{const e=\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.\";let t=\"\";return Array.from(g().getRandomValues(new Uint8Array(43))).forEach((i=>t+=e[i%e.length])),t},k=e=>btoa(e),b=t=>{var{clientId:i}=t,o=e(t,[\"clientId\"]);return new URLSearchParams((e=>Object.keys(e).filter((t=>void 0!==e[t])).reduce(((t,i)=>Object.assign(Object.assign({},t),{[i]:e[i]})),{}))(Object.assign({client_id:i},o))).toString()},v=e=>(e=>decodeURIComponent(atob(e).split(\"\").map((e=>\"%\"+(\"00\"+e.charCodeAt(0).toString(16)).slice(-2))).join(\"\")))(e.replace(/_/g,\"/\").replace(/-/g,\"+\")),_=async(e,t)=>{const i=await fetch(e,t);return{ok:i.ok,json:await i.json()}},I=async(e,t,i)=>{const o=new AbortController;let n;return t.signal=o.signal,Promise.race([_(e,t),new Promise(((e,t)=>{n=setTimeout((()=>{o.abort(),t(new Error(\"Timeout when executing 'fetch'\"))}),i)}))]).finally((()=>{clearTimeout(n)}))},S=async(e,t,i,o,n,a,s)=>{return r={auth:{audience:t,scope:i},timeout:n,fetchUrl:e,fetchOptions:o,useFormData:s},c=a,new Promise((function(e,t){const i=new MessageChannel;i.port1.onmessage=function(o){o.data.error?t(new Error(o.data.error)):e(o.data),i.port1.close()},c.postMessage(r,[i.port2])}));var r,c},T=async(e,t,i,o,n,a,s=1e4)=>n?S(e,t,i,o,s,n,a):I(e,o,s);async function O(t,i){var{baseUrl:o,timeout:n,audience:a,scope:s,auth0Client:c,useFormData:u}=t,l=e(t,[\"baseUrl\",\"timeout\",\"audience\",\"scope\",\"auth0Client\",\"useFormData\"]);const h=u?b(l):JSON.stringify(l);return await async function(t,i,o,n,a,s,r){let c,u=null;for(let e=0;e<3;e++)try{c=await T(t,o,n,a,s,r,i),u=null;break}catch(e){u=e}if(u)throw u;const l=c.json,{error:h,error_description:p}=l,f=e(l,[\"error\",\"error_description\"]),{ok:w}=c;if(!w){const e=p||`HTTP error. Unable to fetch ${t}`;if(\"mfa_required\"===h)throw new m(h,e,f.mfa_token);throw new d(h||\"request_error\",e)}return f}(`${o}/oauth/token`,n,a||\"default\",s,{method:\"POST\",body:h,headers:{\"Content-Type\":u?\"application/x-www-form-urlencoded\":\"application/json\",\"Auth0-Client\":btoa(JSON.stringify(c||r))}},i,u)}const j=(...e)=>{return(t=e.filter(Boolean).join(\" \").trim().split(/\\s+/),Array.from(new Set(t))).join(\" \");var t};class C{constructor(e,t=\"@@auth0spajs@@\",i){this.prefix=t,this.suffix=i,this.clientId=e.clientId,this.scope=e.scope,this.audience=e.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join(\"::\")}static fromKey(e){const[t,i,o,n]=e.split(\"::\");return new C({clientId:i,scope:n,audience:o},t)}static fromCacheEntry(e){const{scope:t,audience:i,client_id:o}=e;return new C({scope:t,audience:i,clientId:o})}}class x{set(e,t){localStorage.setItem(e,JSON.stringify(t))}get(e){const t=window.localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(e){return}}remove(e){localStorage.removeItem(e)}allKeys(){return Object.keys(window.localStorage).filter((e=>e.startsWith(\"@@auth0spajs@@\")))}}class z{constructor(){this.enclosedCache=function(){let e={};return{set(t,i){e[t]=i},get(t){const i=e[t];if(i)return i},remove(t){delete e[t]},allKeys:()=>Object.keys(e)}}()}}class P{constructor(e,t,i){this.cache=e,this.keyManifest=t,this.nowProvider=i||c}async setIdToken(e,t,i){var o;const n=this.getIdTokenCacheKey(e);await this.cache.set(n,{id_token:t,decodedToken:i}),await(null===(o=this.keyManifest)||void 0===o?void 0:o.add(n))}async getIdToken(e){const t=await this.cache.get(this.getIdTokenCacheKey(e.clientId));if(!t&&e.scope&&e.audience){const t=await this.get(e);if(!t)return;if(!t.id_token||!t.decodedToken)return;return{id_token:t.id_token,decodedToken:t.decodedToken}}if(t)return{id_token:t.id_token,decodedToken:t.decodedToken}}async get(e,t=0){var i;let o=await this.cache.get(e.toKey());if(!o){const t=await this.getCacheKeys();if(!t)return;const i=this.matchExistingCacheKey(e,t);i&&(o=await this.cache.get(i))}if(!o)return;const n=await this.nowProvider(),a=Math.floor(n/1e3);return o.expiresAt-t<a?o.body.refresh_token?(o.body={refresh_token:o.body.refresh_token},await this.cache.set(e.toKey(),o),o.body):(await this.cache.remove(e.toKey()),void await(null===(i=this.keyManifest)||void 0===i?void 0:i.remove(e.toKey()))):o.body}async set(e){var t;const i=new C({clientId:e.client_id,scope:e.scope,audience:e.audience}),o=await this.wrapCacheEntry(e);await this.cache.set(i.toKey(),o),await(null===(t=this.keyManifest)||void 0===t?void 0:t.add(i.toKey()))}async clear(e){var t;const i=await this.getCacheKeys();i&&(await i.filter((t=>!e||t.includes(e))).reduce((async(e,t)=>{await e,await this.cache.remove(t)}),Promise.resolve()),await(null===(t=this.keyManifest)||void 0===t?void 0:t.clear()))}async wrapCacheEntry(e){const t=await this.nowProvider();return{body:e,expiresAt:Math.floor(t/1e3)+e.expires_in}}async getCacheKeys(){var e;return this.keyManifest?null===(e=await this.keyManifest.get())||void 0===e?void 0:e.keys:this.cache.allKeys?this.cache.allKeys():void 0}getIdTokenCacheKey(e){return new C({clientId:e},\"@@auth0spajs@@\",\"@@user@@\").toKey()}matchExistingCacheKey(e,t){return t.filter((t=>{var i;const o=C.fromKey(t),n=new Set(o.scope&&o.scope.split(\" \")),a=(null===(i=e.scope)||void 0===i?void 0:i.split(\" \"))||[],s=o.scope&&a.reduce(((e,t)=>e&&n.has(t)),!0);return\"@@auth0spajs@@\"===o.prefix&&o.clientId===e.clientId&&o.audience===e.audience&&s}))[0]}}class Z{constructor(e,t){this.storage=e,this.clientId=t,this.storageKey=`a0.spajs.txs.${this.clientId}`,this.transaction=this.storage.get(this.storageKey)}create(e){this.transaction=e,this.storage.save(this.storageKey,e,{daysUntilExpire:1})}get(){return this.transaction}remove(){delete this.transaction,this.storage.remove(this.storageKey)}}const K=e=>\"number\"==typeof e,E=[\"iss\",\"aud\",\"exp\",\"nbf\",\"iat\",\"jti\",\"azp\",\"nonce\",\"auth_time\",\"at_hash\",\"c_hash\",\"acr\",\"amr\",\"sub_jwk\",\"cnf\",\"sip_from_tag\",\"sip_date\",\"sip_callid\",\"sip_cseq_num\",\"sip_via_branch\",\"orig\",\"dest\",\"mky\",\"events\",\"toe\",\"txn\",\"rph\",\"sid\",\"vot\",\"vtm\"],L=e=>{if(!e.id_token)throw new Error(\"ID token is required but missing\");const t=(e=>{const t=e.split(\".\"),[i,o,n]=t;if(3!==t.length||!i||!o||!n)throw new Error(\"ID token could not be decoded\");const a=JSON.parse(v(o)),s={__raw:e},r={};return Object.keys(a).forEach((e=>{s[e]=a[e],E.includes(e)||(r[e]=a[e])})),{encoded:{header:i,payload:o,signature:n},header:JSON.parse(v(i)),claims:s,user:r}})(e.id_token);if(!t.claims.iss)throw new Error(\"Issuer (iss) claim must be a string present in the ID token\");if(t.claims.iss!==e.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected \"${e.iss}\", found \"${t.claims.iss}\"`);if(!t.user.sub)throw new Error(\"Subject (sub) claim must be a string present in the ID token\");if(\"RS256\"!==t.header.alg)throw new Error(`Signature algorithm of \"${t.header.alg}\" is not supported. Expected the ID token to be signed with \"RS256\".`);if(!t.claims.aud||\"string\"!=typeof t.claims.aud&&!Array.isArray(t.claims.aud))throw new Error(\"Audience (aud) claim must be a string or array of strings present in the ID token\");if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected \"${e.aud}\" but was not one of \"${t.claims.aud.join(\", \")}\"`);if(t.claims.aud.length>1){if(!t.claims.azp)throw new Error(\"Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values\");if(t.claims.azp!==e.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected \"${e.aud}\", found \"${t.claims.azp}\"`)}}else if(t.claims.aud!==e.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected \"${e.aud}\" but found \"${t.claims.aud}\"`);if(e.nonce){if(!t.claims.nonce)throw new Error(\"Nonce (nonce) claim must be a string present in the ID token\");if(t.claims.nonce!==e.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected \"${e.nonce}\", found \"${t.claims.nonce}\"`)}if(e.max_age&&!K(t.claims.auth_time))throw new Error(\"Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified\");if(null==t.claims.exp||!K(t.claims.exp))throw new Error(\"Expiration Time (exp) claim must be a number present in the ID token\");if(!K(t.claims.iat))throw new Error(\"Issued At (iat) claim must be a number present in the ID token\");const i=e.leeway||60,o=new Date(e.now||Date.now()),n=new Date(0);if(n.setUTCSeconds(t.claims.exp+i),o>n)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${o}) is after expiration time (${n})`);if(null!=t.claims.nbf&&K(t.claims.nbf)){const e=new Date(0);if(e.setUTCSeconds(t.claims.nbf-i),o<e)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${o}) is before ${e}`)}if(null!=t.claims.auth_time&&K(t.claims.auth_time)){const n=new Date(0);if(n.setUTCSeconds(parseInt(t.claims.auth_time)+e.max_age+i),o>n)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${o}) is after last auth at ${n}`)}if(e.organizationId){if(!t.claims.org_id)throw new Error(\"Organization ID (org_id) claim must be a string present in the ID token\");if(e.organizationId!==t.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected \"${e.organizationId}\", found \"${t.claims.org_id}\"`)}return t};var U=o((function(e,i){var o=t&&t.__assign||function(){return o=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},o.apply(this,arguments)};function n(e,t){if(!t)return\"\";var i=\"; \"+e;return!0===t?i:i+\"=\"+t}function a(e,t,i){return encodeURIComponent(e).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\\(/g,\"%28\").replace(/\\)/g,\"%29\")+\"=\"+encodeURIComponent(t).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(e){if(\"number\"==typeof e.expires){var t=new Date;t.setMilliseconds(t.getMilliseconds()+864e5*e.expires),e.expires=t}return n(\"Expires\",e.expires?e.expires.toUTCString():\"\")+n(\"Domain\",e.domain)+n(\"Path\",e.path)+n(\"Secure\",e.secure)+n(\"SameSite\",e.sameSite)}(i)}function s(e){for(var t={},i=e?e.split(\"; \"):[],o=/(%[\\dA-F]{2})+/gi,n=0;n<i.length;n++){var a=i[n].split(\"=\"),s=a.slice(1).join(\"=\");'\"'===s.charAt(0)&&(s=s.slice(1,-1));try{t[a[0].replace(o,decodeURIComponent)]=s.replace(o,decodeURIComponent)}catch(e){}}return t}function r(){return s(document.cookie)}function c(e,t,i){document.cookie=a(e,t,o({path:\"/\"},i))}i.__esModule=!0,i.encode=a,i.parse=s,i.getAll=r,i.get=function(e){return r()[e]},i.set=c,i.remove=function(e,t){c(e,\"\",o(o({},t),{expires:-1}))}}));i(U),U.encode,U.parse,U.getAll;var N=U.get,W=U.set,R=U.remove;const X={get(e){const t=N(e);if(void 0!==t)return JSON.parse(t)},save(e,t,i){let o={};\"https:\"===window.location.protocol&&(o={secure:!0,sameSite:\"none\"}),(null==i?void 0:i.daysUntilExpire)&&(o.expires=i.daysUntilExpire),(null==i?void 0:i.cookieDomain)&&(o.domain=i.cookieDomain),W(e,JSON.stringify(t),o)},remove(e,t){let i={};(null==t?void 0:t.cookieDomain)&&(i.domain=t.cookieDomain),R(e,i)}},V={get(e){const t=X.get(e);return t||X.get(`_legacy_${e}`)},save(e,t,i){let o={};\"https:\"===window.location.protocol&&(o={secure:!0}),(null==i?void 0:i.daysUntilExpire)&&(o.expires=i.daysUntilExpire),W(`_legacy_${e}`,JSON.stringify(t),o),X.save(e,t,i)},remove(e,t){let i={};(null==t?void 0:t.cookieDomain)&&(i.domain=t.cookieDomain),R(e,i),X.remove(e,t),X.remove(`_legacy_${e}`,t)}},D={get(e){if(\"undefined\"==typeof sessionStorage)return;const t=sessionStorage.getItem(e);return null!=t?JSON.parse(t):void 0},save(e,t){sessionStorage.setItem(e,JSON.stringify(t))},remove(e){sessionStorage.removeItem(e)}};function J(e,t,i){var o=void 0===t?null:t,n=function(e,t){var i=atob(e);if(t){for(var o=new Uint8Array(i.length),n=0,a=i.length;n<a;++n)o[n]=i.charCodeAt(n);return String.fromCharCode.apply(null,new Uint16Array(o.buffer))}return i}(e,void 0!==i&&i),a=n.indexOf(\"\\n\",10)+1,s=n.substring(a)+(o?\"//# sourceMappingURL=\"+o:\"\"),r=new Blob([s],{type:\"application/javascript\"});return URL.createObjectURL(r)}var F,H,G,M,A=(F=\"Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9Y29uc3Qgcz1lPT57dmFye2NsaWVudElkOnR9PWUscj1mdW5jdGlvbihlLHQpe3ZhciByPXt9O2Zvcih2YXIgcyBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHMpJiZ0LmluZGV4T2Yocyk8MCYmKHJbc109ZVtzXSk7aWYobnVsbCE9ZSYmImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBvPTA7Zm9yKHM9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtvPHMubGVuZ3RoO28rKyl0LmluZGV4T2Yoc1tvXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsc1tvXSkmJihyW3Nbb11dPWVbc1tvXV0pfXJldHVybiByfShlLFsiY2xpZW50SWQiXSk7cmV0dXJuIG5ldyBVUkxTZWFyY2hQYXJhbXMoKGU9Pk9iamVjdC5rZXlzKGUpLmZpbHRlcigodD0+dm9pZCAwIT09ZVt0XSkpLnJlZHVjZSgoKHQscik9Pk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSx7W3JdOmVbcl19KSkse30pKShPYmplY3QuYXNzaWduKHtjbGllbnRfaWQ6dH0scikpKS50b1N0cmluZygpfTtsZXQgbz17fTtjb25zdCBuPShlLHQpPT5gJHtlfXwke3R9YDthZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoYXN5bmMoe2RhdGE6e3RpbWVvdXQ6ZSxhdXRoOnIsZmV0Y2hVcmw6aSxmZXRjaE9wdGlvbnM6Yyx1c2VGb3JtRGF0YTphfSxwb3J0czpbZl19KT0+e2xldCBwO2NvbnN0e2F1ZGllbmNlOmwsc2NvcGU6dX09cnx8e307dHJ5e2NvbnN0IHI9YT8oZT0+e2NvbnN0IHQ9bmV3IFVSTFNlYXJjaFBhcmFtcyhlKSxyPXt9O3JldHVybiB0LmZvckVhY2goKChlLHQpPT57clt0XT1lfSkpLHJ9KShjLmJvZHkpOkpTT04ucGFyc2UoYy5ib2R5KTtpZighci5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1yLmdyYW50X3R5cGUpe2NvbnN0IGU9KChlLHQpPT5vW24oZSx0KV0pKGwsdSk7aWYoIWUpdGhyb3cgbmV3IHQobCx1KTtjLmJvZHk9YT9zKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjplfSkpOkpTT04uc3RyaW5naWZ5KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjplfSkpfWxldCBkLGc7ImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGQ9bmV3IEFib3J0Q29udHJvbGxlcixjLnNpZ25hbD1kLnNpZ25hbCk7dHJ5e2c9YXdhaXQgUHJvbWlzZS5yYWNlKFsoaD1lLG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsaCkpKSksZmV0Y2goaSxPYmplY3QuYXNzaWduKHt9LGMpKV0pfWNhdGNoKGUpe3JldHVybiB2b2lkIGYucG9zdE1lc3NhZ2Uoe2Vycm9yOmUubWVzc2FnZX0pfWlmKCFnKXJldHVybiBkJiZkLmFib3J0KCksdm9pZCBmLnBvc3RNZXNzYWdlKHtlcnJvcjoiVGltZW91dCB3aGVuIGV4ZWN1dGluZyAnZmV0Y2gnIn0pO3A9YXdhaXQgZy5qc29uKCkscC5yZWZyZXNoX3Rva2VuPygoKGUsdCxyKT0+e29bbih0LHIpXT1lfSkocC5yZWZyZXNoX3Rva2VuLGwsdSksZGVsZXRlIHAucmVmcmVzaF90b2tlbik6KChlLHQpPT57ZGVsZXRlIG9bbihlLHQpXX0pKGwsdSksZi5wb3N0TWVzc2FnZSh7b2s6Zy5vayxqc29uOnB9KX1jYXRjaChlKXtmLnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGh9KSl9KCk7Cgo=\",H=null,G=!1,function(e){return M=M||J(F,H,G),new Worker(M,e)});const Y={};class ${constructor(e,t){this.cache=e,this.clientId=t,this.manifestKey=this.createManifestKeyFrom(this.clientId)}async add(e){var t;const i=new Set((null===(t=await this.cache.get(this.manifestKey))||void 0===t?void 0:t.keys)||[]);i.add(e),await this.cache.set(this.manifestKey,{keys:[...i]})}async remove(e){const t=await this.cache.get(this.manifestKey);if(t){const i=new Set(t.keys);return i.delete(e),i.size>0?await this.cache.set(this.manifestKey,{keys:[...i]}):await this.cache.remove(this.manifestKey)}}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(e){return`@@auth0spajs@@::${e}`}}const B={memory:()=>(new z).enclosedCache,localstorage:()=>new x},q=e=>B[e],Q=t=>{const{openUrl:i,onRedirect:o}=t,n=e(t,[\"openUrl\",\"onRedirect\"]);return Object.assign(Object.assign({},n),{openUrl:!1===i||i?i:o})},ee=new a;class te{constructor(e){let t,i;if(this.userCache=(new z).enclosedCache,this.defaultOptions={authorizationParams:{scope:\"openid profile email\"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=async()=>{await ee.releaseLock(\"auth0.lock.getTokenSilently\"),window.removeEventListener(\"pagehide\",this._releaseLockOnPageHide)},this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),e),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),e.authorizationParams)}),\"undefined\"!=typeof window&&(()=>{if(!g())throw new Error(\"For security reasons, `window.crypto` is required to run `auth0-spa-js`.\");if(void 0===g().subtle)throw new Error(\"\\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\\n    \")})(),e.cache&&e.cacheLocation&&console.warn(\"Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`.\"),e.cache)i=e.cache;else{if(t=e.cacheLocation||\"memory\",!q(t))throw new Error(`Invalid cache location \"${t}\"`);i=q(t)()}this.httpTimeoutMs=e.httpTimeoutInSeconds?1e3*e.httpTimeoutInSeconds:1e4,this.cookieStorage=!1===e.legacySameSiteCookie?X:V,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(e=>`auth0.${e}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;const o=e.useCookiesForTransactions?this.cookieStorage:D;var n;this.scope=j(\"openid\",this.options.authorizationParams.scope,this.options.useRefreshTokens?\"offline_access\":\"\"),this.transactionManager=new Z(o,this.options.clientId),this.nowProvider=this.options.nowProvider||c,this.cacheManager=new P(i,i.allKeys?void 0:new $(i,this.options.clientId),this.nowProvider),this.domainUrl=(n=this.options.domain,/^https?:\\/\\//.test(n)?n:`https://${n}`),this.tokenIssuer=((e,t)=>e?e.startsWith(\"https://\")?e:`https://${e}/`:`${t}/`)(this.options.issuer,this.domainUrl),\"undefined\"!=typeof window&&window.Worker&&this.options.useRefreshTokens&&\"memory\"===t&&(this.worker=new A)}_url(e){const t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||r)));return`${this.domainUrl}${e}&auth0Client=${t}`}_authorizeUrl(e){return this._url(`/authorize?${b(e)}`)}async _verifyIdToken(e,t,i){const o=await this.nowProvider();return L({iss:this.tokenIssuer,aud:this.options.clientId,id_token:e,nonce:t,organizationId:i,leeway:this.options.leeway,max_age:(n=this.options.authorizationParams.max_age,\"string\"!=typeof n?n:parseInt(n,10)||void 0),now:o});var n}_processOrgIdHint(e){e?this.cookieStorage.save(this.orgHintCookieName,e,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}async _prepareAuthorizeUrl(e,t,i){const o=k(y()),n=k(y()),a=y(),s=(e=>{const t=new Uint8Array(e);return(e=>{const t={\"+\":\"-\",\"/\":\"_\",\"=\":\"\"};return e.replace(/[+/=]/g,(e=>t[e]))})(window.btoa(String.fromCharCode(...Array.from(t))))})(await(async e=>{const t=g().subtle.digest({name:\"SHA-256\"},(new TextEncoder).encode(e));return await t})(a)),r=((e,t,i,o,n,a,s,r)=>Object.assign(Object.assign(Object.assign({client_id:e.clientId},e.authorizationParams),i),{scope:j(t,i.scope),response_type:\"code\",response_mode:r||\"query\",state:o,nonce:n,redirect_uri:s||e.authorizationParams.redirect_uri,code_challenge:a,code_challenge_method:\"S256\"}))(this.options,this.scope,e,o,n,s,e.redirect_uri||this.options.authorizationParams.redirect_uri||i,null==t?void 0:t.response_mode),c=this._authorizeUrl(r);return{nonce:n,code_verifier:a,scope:r.scope,audience:r.audience||\"default\",redirect_uri:r.redirect_uri,state:o,url:c}}async loginWithPopup(e,t){var i;if(e=e||{},!(t=t||{}).popup&&(t.popup=(e=>{const t=window.screenX+(window.innerWidth-400)/2,i=window.screenY+(window.innerHeight-600)/2;return window.open(e,\"auth0:authorize:popup\",`left=${t},top=${i},width=400,height=600,resizable,scrollbars=yes,status=1`)})(\"\"),!t.popup))throw new Error(\"Unable to open a popup for loginWithPopup - window.open returned `null`\");const o=await this._prepareAuthorizeUrl(e.authorizationParams||{},{response_mode:\"web_message\"},window.location.origin);t.popup.location.href=o.url;const n=await(e=>new Promise(((t,i)=>{let o;const n=setInterval((()=>{e.popup&&e.popup.closed&&(clearInterval(n),clearTimeout(a),window.removeEventListener(\"message\",o,!1),i(new p(e.popup)))}),1e3),a=setTimeout((()=>{clearInterval(n),i(new h(e.popup)),window.removeEventListener(\"message\",o,!1)}),1e3*(e.timeoutInSeconds||60));o=function(s){if(s.data&&\"authorization_response\"===s.data.type){if(clearTimeout(a),clearInterval(n),window.removeEventListener(\"message\",o,!1),e.popup.close(),s.data.response.error)return i(d.fromPayload(s.data.response));t(s.data.response)}},window.addEventListener(\"message\",o)})))(Object.assign(Object.assign({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(o.state!==n.state)throw new Error(\"Invalid state\");const a=(null===(i=e.authorizationParams)||void 0===i?void 0:i.organization)||this.options.authorizationParams.organization;await this._requestToken({audience:o.audience,scope:o.scope,code_verifier:o.code_verifier,grant_type:\"authorization_code\",code:n.code,redirect_uri:o.redirect_uri},{nonceIn:o.nonce,organizationId:a})}async getUser(){var e;const t=await this._getIdTokenFromCache();return null===(e=null==t?void 0:t.decodedToken)||void 0===e?void 0:e.user}async getIdTokenClaims(){var e;const t=await this._getIdTokenFromCache();return null===(e=null==t?void 0:t.decodedToken)||void 0===e?void 0:e.claims}async loginWithRedirect(t={}){var i;const o=Q(t),{openUrl:n,fragment:a,appState:s}=o,r=e(o,[\"openUrl\",\"fragment\",\"appState\"]),c=(null===(i=r.authorizationParams)||void 0===i?void 0:i.organization)||this.options.authorizationParams.organization,d=await this._prepareAuthorizeUrl(r.authorizationParams||{}),{url:u}=d,l=e(d,[\"url\"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},l),{appState:s}),c&&{organizationId:c}));const h=a?`${u}#${a}`:u;n?await n(h):window.location.assign(h)}async handleRedirectCallback(e=window.location.href){const t=e.split(\"?\").slice(1);if(0===t.length)throw new Error(\"There are no query params available for parsing.\");const{state:i,code:o,error:n,error_description:a}=(e=>{e.indexOf(\"#\")>-1&&(e=e.substr(0,e.indexOf(\"#\")));const t=e.split(\"&\"),i={};return t.forEach((e=>{const[t,o]=e.split(\"=\");i[t]=decodeURIComponent(o)})),i.expires_in&&(i.expires_in=parseInt(i.expires_in)),i})(t.join(\"\")),s=this.transactionManager.get();if(!s)throw new Error(\"Invalid state\");if(this.transactionManager.remove(),n)throw new u(n,a||n,i,s.appState);if(!s.code_verifier||s.state&&s.state!==i)throw new Error(\"Invalid state\");const r=s.organizationId,c=s.nonce,d=s.redirect_uri;return await this._requestToken(Object.assign({audience:s.audience,scope:s.scope,code_verifier:s.code_verifier,grant_type:\"authorization_code\",code:o},d?{redirect_uri:d}:{}),{nonceIn:c,organizationId:r}),{appState:s.appState}}async checkSession(e){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get(\"auth0.is.authenticated\"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(\"auth0.is.authenticated\")}try{await this.getTokenSilently(e)}catch(e){}}async getTokenSilently(e={}){var t;const i=Object.assign(Object.assign({cacheMode:\"on\"},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:j(this.scope,null===(t=e.authorizationParams)||void 0===t?void 0:t.scope)})}),o=await((e,t)=>{let i=Y[t];return i||(i=e().finally((()=>{delete Y[t],i=null})),Y[t]=i),i})((()=>this._getTokenSilently(i)),`${this.options.clientId}::${i.authorizationParams.audience}::${i.authorizationParams.scope}`);return e.detailedResponse?o:null==o?void 0:o.access_token}async _getTokenSilently(t){const{cacheMode:i}=t,o=e(t,[\"cacheMode\"]);if(\"off\"!==i){const e=await this._getEntryFromCache({scope:o.authorizationParams.scope,audience:o.authorizationParams.audience||\"default\",clientId:this.options.clientId});if(e)return e}if(\"cache-only\"!==i){if(!await(async(e,t=3)=>{for(let i=0;i<t;i++)if(await e())return!0;return!1})((()=>ee.acquireLock(\"auth0.lock.getTokenSilently\",5e3)),10))throw new l;try{if(window.addEventListener(\"pagehide\",this._releaseLockOnPageHide),\"off\"!==i){const e=await this._getEntryFromCache({scope:o.authorizationParams.scope,audience:o.authorizationParams.audience||\"default\",clientId:this.options.clientId});if(e)return e}const e=this.options.useRefreshTokens?await this._getTokenUsingRefreshToken(o):await this._getTokenFromIFrame(o),{id_token:t,access_token:n,oauthTokenScope:a,expires_in:s}=e;return Object.assign(Object.assign({id_token:t,access_token:n},a?{scope:a}:null),{expires_in:s})}finally{await ee.releaseLock(\"auth0.lock.getTokenSilently\"),window.removeEventListener(\"pagehide\",this._releaseLockOnPageHide)}}}async getTokenWithPopup(e={},t={}){var i;const o=Object.assign(Object.assign({},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:j(this.scope,null===(i=e.authorizationParams)||void 0===i?void 0:i.scope)})});t=Object.assign(Object.assign({},s),t),await this.loginWithPopup(o,t);return(await this.cacheManager.get(new C({scope:o.authorizationParams.scope,audience:o.authorizationParams.audience||\"default\",clientId:this.options.clientId}))).access_token}async isAuthenticated(){return!!await this.getUser()}_buildLogoutUrl(t){null!==t.clientId?t.clientId=t.clientId||this.options.clientId:delete t.clientId;const i=t.logoutParams||{},{federated:o}=i,n=e(i,[\"federated\"]),a=o?\"&federated\":\"\";return this._url(`/v2/logout?${b(Object.assign({clientId:t.clientId},n))}`)+a}async logout(t={}){const i=Q(t),{openUrl:o}=i,n=e(i,[\"openUrl\"]);await this.cacheManager.clear(),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove(\"@@user@@\");const a=this._buildLogoutUrl(n);o?await o(a):!1!==o&&window.location.assign(a)}async _getTokenFromIFrame(e){const t=Object.assign(Object.assign({},e.authorizationParams),{prompt:\"none\"}),i=this.cookieStorage.get(this.orgHintCookieName);i&&!t.organization&&(t.organization=i);const{url:o,state:n,nonce:a,code_verifier:s,redirect_uri:r,scope:c,audience:u}=await this._prepareAuthorizeUrl(t,{response_mode:\"web_message\"},window.location.origin);try{if(window.crossOriginIsolated)throw new d(\"login_required\",\"The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.\");const t=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,i=await((e,t,i=60)=>new Promise(((o,n)=>{const a=window.document.createElement(\"iframe\");a.setAttribute(\"width\",\"0\"),a.setAttribute(\"height\",\"0\"),a.style.display=\"none\";const s=()=>{window.document.body.contains(a)&&(window.document.body.removeChild(a),window.removeEventListener(\"message\",r,!1))};let r;const c=setTimeout((()=>{n(new l),s()}),1e3*i);r=function(e){if(e.origin!=t)return;if(!e.data||\"authorization_response\"!==e.data.type)return;const i=e.source;i&&i.close(),e.data.response.error?n(d.fromPayload(e.data.response)):o(e.data.response),clearTimeout(c),window.removeEventListener(\"message\",r,!1),setTimeout(s,2e3)},window.addEventListener(\"message\",r,!1),window.document.body.appendChild(a),a.setAttribute(\"src\",e)})))(o,this.domainUrl,t);if(n!==i.state)throw new Error(\"Invalid state\");const h=await this._requestToken(Object.assign(Object.assign({},e.authorizationParams),{code_verifier:s,code:i.code,grant_type:\"authorization_code\",redirect_uri:r,timeout:e.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:a});return Object.assign(Object.assign({},h),{scope:c,oauthTokenScope:h.scope,audience:u})}catch(e){throw\"login_required\"===e.error&&this.logout({openUrl:!1}),e}}async _getTokenUsingRefreshToken(e){const t=await this.cacheManager.get(new C({scope:e.authorizationParams.scope,audience:e.authorizationParams.audience||\"default\",clientId:this.options.clientId}));if(!(t&&t.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw new f(e.authorizationParams.audience||\"default\",e.authorizationParams.scope)}const i=e.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,o=\"number\"==typeof e.timeoutInSeconds?1e3*e.timeoutInSeconds:null;try{const n=await this._requestToken(Object.assign(Object.assign(Object.assign({},e.authorizationParams),{grant_type:\"refresh_token\",refresh_token:t&&t.refresh_token,redirect_uri:i}),o&&{timeout:o}));return Object.assign(Object.assign({},n),{scope:e.authorizationParams.scope,oauthTokenScope:n.scope,audience:e.authorizationParams.audience||\"default\"})}catch(t){if((t.message.indexOf(\"Missing Refresh Token\")>-1||t.message&&t.message.indexOf(\"invalid refresh token\")>-1)&&this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw t}}async _saveEntryInCache(t){const{id_token:i,decodedToken:o}=t,n=e(t,[\"id_token\",\"decodedToken\"]);this.userCache.set(\"@@user@@\",{id_token:i,decodedToken:o}),await this.cacheManager.setIdToken(this.options.clientId,t.id_token,t.decodedToken),await this.cacheManager.set(n)}async _getIdTokenFromCache(){const e=this.options.authorizationParams.audience||\"default\",t=await this.cacheManager.getIdToken(new C({clientId:this.options.clientId,audience:e,scope:this.scope})),i=this.userCache.get(\"@@user@@\");return t&&t.id_token===(null==i?void 0:i.id_token)?i:(this.userCache.set(\"@@user@@\",t),t)}async _getEntryFromCache({scope:e,audience:t,clientId:i}){const o=await this.cacheManager.get(new C({scope:e,audience:t,clientId:i}),60);if(o&&o.access_token){const{access_token:e,oauthTokenScope:t,expires_in:i}=o,n=await this._getIdTokenFromCache();return n&&Object.assign(Object.assign({id_token:n.id_token,access_token:e},t?{scope:t}:null),{expires_in:i})}}async _requestToken(e,t){const{nonceIn:i,organizationId:o}=t||{},n=await O(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},e),this.worker),a=await this._verifyIdToken(n.id_token,i,o);return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},n),{decodedToken:a,scope:e.scope,audience:e.audience||\"default\"}),n.scope?{oauthTokenScope:n.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgIdHint(a.claims.org_id),Object.assign(Object.assign({},n),{decodedToken:a})}}class ie{}async function oe(e){const t=new te(e);return await t.checkSession(),t}export{te as Auth0Client,u as AuthenticationError,C as CacheKey,d as GenericError,z as InMemoryCache,x as LocalStorageCache,m as MfaRequiredError,f as MissingRefreshTokenError,p as PopupCancelledError,h as PopupTimeoutError,l as TimeoutError,ie as User,oe as createAuth0Client};\n//# sourceMappingURL=auth0-spa-js.production.esm.js.map\n","import { watchEffect } from 'vue';\n\n/**\n * @ignore\n * Run watchEffect untill the watcher returns true, then stop the watch.\n * Once it returns true, the promise will resolve.\n */\nexport function watchEffectOnceAsync<T>(watcher: () => T) {\n  return new Promise<void>(resolve => {\n    watchEffectOnce(watcher, resolve);\n  });\n}\n\n/**\n * @ignore\n * Run watchEffect untill the watcher returns true, then stop the watch.\n * Once it returns true, it will call the provided function.\n */\nexport function watchEffectOnce<T>(watcher: () => T, fn: Function) {\n  const stopWatch = watchEffect(() => {\n    if (watcher()) {\n      fn();\n      stopWatch();\n    }\n  });\n}\n\n/**\n * @ignore\n * Helper function to bind methods to itself, useful when using Vue's `provide` / `inject` API's.\n */\nexport function bindPluginMethods(plugin: any, exclude: string[]) {\n  Object.getOwnPropertyNames(Object.getPrototypeOf(plugin))\n    .filter(method => !exclude.includes(method)) \n    // eslint-disable-next-line security/detect-object-injection\n    .forEach(method => (plugin[method] = plugin[method].bind(plugin))); \n}\n","import type { App, Ref } from 'vue';\nimport { readonly, ref } from 'vue';\nimport type { Router } from 'vue-router';\nimport type {\n  AppState,\n  Auth0PluginOptions,\n  Auth0VueClient,\n  Auth0VueClientOptions,\n  LogoutOptions,\n  RedirectLoginOptions,\n} from './interfaces';\nimport { AUTH0_INJECTION_KEY, AUTH0_TOKEN } from './token';\nimport version from './version';\nimport type {\n  GetTokenSilentlyOptions,\n  GetTokenSilentlyVerboseResponse,\n  GetTokenWithPopupOptions,\n  IdToken,\n  PopupConfigOptions,\n  PopupLoginOptions,\n  RedirectLoginResult,\n} from '@auth0/auth0-spa-js';\nimport {\n  Auth0Client,\n  User\n} from '@auth0/auth0-spa-js';\nimport { bindPluginMethods } from './utils';\n\n/**\n * @ignore\n */\nexport const client: Ref<Auth0VueClient> = ref(null);\n\n/**\n * @ignore\n */\nexport class Auth0Plugin implements Auth0VueClient {\n  private _client: Auth0Client;\n  private _isLoading: Ref<boolean> = ref(true);\n  private _isAuthenticated: Ref<boolean> = ref(false);\n  private _user: Ref<User> = ref({});\n  private _idTokenClaims: Ref<IdToken> = ref();\n  private _error = ref(null);\n\n  isLoading = readonly(this._isLoading);\n  isAuthenticated = readonly(this._isAuthenticated);\n  user = readonly(this._user);\n  idTokenClaims = readonly(this._idTokenClaims);\n  error = readonly(this._error);\n\n  constructor(\n    private clientOptions: Auth0VueClientOptions,\n    private pluginOptions?: Auth0PluginOptions\n  ) {\n    // Vue Plugins can have issues when passing around the instance to `provide`\n    // Therefor we need to bind all methods correctly to `this`.\n    bindPluginMethods(this, ['constructor']);\n  }\n\n  install(app: App) {\n    this._client = new Auth0Client({\n      ...this.clientOptions,\n      auth0Client: {\n        name: 'auth0-vue',\n        version: version\n      }\n    });\n\n    this.__checkSession(app.config.globalProperties.$router);\n\n    // eslint-disable-next-line security/detect-object-injection\n    app.config.globalProperties[AUTH0_TOKEN] = this;\n    app.provide(AUTH0_INJECTION_KEY, this);\n\n    client.value = this;\n  }\n\n  async loginWithRedirect(options?: RedirectLoginOptions<AppState>) {\n    return this._client.loginWithRedirect(options);\n  }\n\n  async loginWithPopup(\n    options?: PopupLoginOptions,\n    config?: PopupConfigOptions\n  ) {\n    return this.__proxy(() => this._client.loginWithPopup(options, config));\n  }\n\n  async logout(options?: LogoutOptions) {\n    if (options?.openUrl || options?.openUrl === false) {\n      return this.__proxy(() => this._client.logout(options));\n    }\n\n    return this._client.logout(options);\n  }\n\n  /* istanbul ignore next */\n  async getAccessTokenSilently(\n    options: GetTokenSilentlyOptions & { detailedResponse: true }\n  ): Promise<GetTokenSilentlyVerboseResponse>;\n  /* istanbul ignore next */\n  async getAccessTokenSilently(\n    options?: GetTokenSilentlyOptions\n  ): Promise<string>;\n  /* istanbul ignore next */\n  async getAccessTokenSilently(\n    options: GetTokenSilentlyOptions = {}\n  ): Promise<string | GetTokenSilentlyVerboseResponse> {\n    return this.__proxy(() => this._client.getTokenSilently(options));\n  }\n\n  async getAccessTokenWithPopup(\n    options?: GetTokenWithPopupOptions,\n    config?: PopupConfigOptions\n  ) {\n    return this.__proxy(() => this._client.getTokenWithPopup(options, config));\n  }\n\n  async checkSession(options?: GetTokenSilentlyOptions) {\n    return this.__proxy(() => this._client.checkSession(options));\n  }\n\n  async handleRedirectCallback(\n    url?: string\n  ): Promise<RedirectLoginResult<AppState>> {\n    return this.__proxy(() =>\n      this._client.handleRedirectCallback<AppState>(url)\n    );\n  }\n\n  private async __checkSession(router?: Router) {\n    const search = window.location.search;\n\n    if (\n      (search.includes('code=') || search.includes('error=')) &&\n      search.includes('state=') &&\n      !this.pluginOptions?.skipRedirectCallback\n    ) {\n      const result = await this.handleRedirectCallback();\n      const appState = result?.appState;\n      const target = appState?.target ?? '/';\n\n      window.history.replaceState({}, '', '/');\n\n      if (router) {\n        router.push(target);\n      }\n\n      return result;\n    } else {\n      await this.checkSession();\n    }\n  }\n\n  private async __refreshState() {\n    this._isAuthenticated.value = await this._client.isAuthenticated();\n    this._user.value = await this._client.getUser();\n    this._idTokenClaims.value = await this._client.getIdTokenClaims();\n    this._isLoading.value = false;\n  }\n\n  private async __proxy<T>(cb: () => T, refreshState = true) {\n    let result;\n    try {\n      result = await cb();\n      this._error.value = null;\n    } catch (e) {\n      this._error.value = e;\n      throw e;\n    } finally {\n      if (refreshState) {\n        await this.__refreshState();\n      }\n    }\n\n    return result;\n  }\n}\n","export default '2.0.0';\n","import type { RouteLocation } from 'vue-router';\nimport { watchEffectOnceAsync } from './utils';\nimport { client as auth0Client } from './plugin';\nimport { AUTH0_TOKEN } from './token';\nimport type { Auth0VueClient } from './interfaces';\nimport type { App } from 'vue';\nimport { unref } from 'vue';\n\nasync function createGuardHandler(client: Auth0VueClient, to: RouteLocation) {\n  const fn = async () => {\n    if (unref(client.isAuthenticated)) {\n      return true;\n    }\n\n    await client.loginWithRedirect({\n      appState: { target: to.fullPath }\n    });\n\n    return false;\n  };\n\n  if (!unref(client.isLoading)) {\n    return fn();\n  }\n\n  await watchEffectOnceAsync(() => !unref(client.isLoading));\n\n  return fn();\n}\n\nexport function createAuthGuard(app: App) {\n  return async (to: RouteLocation) => {\n    // eslint-disable-next-line security/detect-object-injection\n    const auth0 = app.config.globalProperties[AUTH0_TOKEN] as Auth0VueClient;\n\n    return createGuardHandler(auth0, to);\n  };\n}\n\nexport async function authGuard(to: RouteLocation) {\n  const auth0 = unref(auth0Client);\n\n  return createGuardHandler(auth0, to);\n}\n","import { inject } from 'vue';\nimport './global';\nimport {\n  Auth0VueClient,\n  Auth0Plugin,\n  Auth0PluginOptions,\n  Auth0VueClientOptions\n} from './global';\nimport { AUTH0_INJECTION_KEY, AUTH0_TOKEN } from './token';\n\nexport * from './global';\nexport { AUTH0_INJECTION_KEY } from './token';\n\ndeclare module '@vue/runtime-core' {\n  export interface ComponentCustomProperties {\n    [AUTH0_TOKEN]: Auth0VueClient;\n  }\n}\n\n/**\n * Creates the Auth0 plugin.\n *\n * @param clientOptions The Auth Vue Client Options\n * @param pluginOptions Additional Plugin Configuration Options\n * @returns An instance of Auth0Plugin\n */\nexport function createAuth0(\n  clientOptions: Auth0VueClientOptions,\n  pluginOptions?: Auth0PluginOptions\n) {\n  return new Auth0Plugin(clientOptions, pluginOptions);\n}\n\n/**\n * Returns the registered Auth0 instance using Vue's `inject`.\n * @returns An instance of Auth0VueClient\n */\nexport function useAuth0(): Auth0VueClient {\n  return inject(AUTH0_INJECTION_KEY);\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}