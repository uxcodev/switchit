{"ast":null,"code":"import { createApp } from 'vue';\nimport App from './App.vue';\nconst app = createApp(App);\n\n/* use Auth0 */\n\nimport { createAuth0 } from '@auth0/auth0-vue';\nconst auth0 = createAuth0({\n  domain: process.env.VUE_APP_AUTH0_DOMAIN,\n  clientId: process.env.VUE_APP_AUTH0_CLIENTID,\n  authorizationParams: {\n    redirect_uri: window.location.origin\n  },\n  cacheLocation: 'localstorage',\n  // useRefreshTokens: true,\n  audience: `${window.location.origin}/api/v2/`,\n  responseType: 'token id_token',\n  scope: 'openid profile'\n});\napp.use(auth0);\n\n/* use Vuex store */\n\nimport store from '@/store/index.js';\napp.use(store);\n\n/* set up router */\n\nimport { createRouter, createWebHistory } from 'vue-router';\n\n/* use Router */\n\nimport { authGuard } from \"@auth0/auth0-vue\";\nconst isAuth = async () => {\n  console.log('isAuth');\n  console.log(auth0.isAuthenticated);\n  if (!auth0.isAuthenticated) {\n    console.log(\"not authenticated\");\n    return false;\n  }\n};\nconst routes = [{\n  path: '/dashboard',\n  name: \"dashboard\",\n  beforeEnter: authGuard,\n  component: () => import('@/pages/UserDashboard.vue')\n}, {\n  path: '/admin',\n  name: \"admin\",\n  beforeEnter: isAuth,\n  component: () => import('@/pages/AdminDashboard.vue')\n}, {\n  path: '/settings',\n  name: \"settings\",\n  beforeEnter: isAuth,\n  component: () => import('@/pages/SettingsPage.vue')\n}, {\n  path: '/',\n  name: \"start\",\n  beforeEnter: isAuth,\n  component: () => import('@/pages/StarterPage.vue')\n}];\nconst router = createRouter({\n  history: createWebHistory(),\n  routes: routes\n});\napp.use(router);\napp.mount('#app');","map":{"version":3,"names":["createApp","App","app","createAuth0","auth0","domain","process","env","VUE_APP_AUTH0_DOMAIN","clientId","VUE_APP_AUTH0_CLIENTID","authorizationParams","redirect_uri","window","location","origin","cacheLocation","audience","responseType","scope","use","store","createRouter","createWebHistory","authGuard","isAuth","console","log","isAuthenticated","routes","path","name","beforeEnter","component","router","history","mount"],"sources":["/Users/nick/Sites/switchit-vue/src/main.js"],"sourcesContent":["import { createApp } from 'vue'\nimport App from './App.vue'\nconst app = createApp(App);\n\n\n\n/* use Auth0 */\n\n\nimport { createAuth0 } from '@auth0/auth0-vue';\n\n\nconst auth0 = createAuth0({\n  domain: process.env.VUE_APP_AUTH0_DOMAIN,\n  clientId: process.env.VUE_APP_AUTH0_CLIENTID,\n  authorizationParams: {\n    redirect_uri: window.location.origin\n  },\n  cacheLocation: 'localstorage',\n  // useRefreshTokens: true,\n  audience: `${window.location.origin}/api/v2/`,\n  responseType: 'token id_token',\n  scope: 'openid profile'\n})\n\napp.use(auth0);\n\n\n/* use Vuex store */\n\nimport store from '@/store/index.js'\n\napp.use(store)\n\n/* set up router */\n\nimport { createRouter, createWebHistory } from 'vue-router'\n\n/* use Router */\n\nimport { authGuard } from \"@auth0/auth0-vue\";\n\nconst isAuth = async () => {\n  console.log('isAuth')\n  console.log(auth0.isAuthenticated)\n  if (!auth0.isAuthenticated) {\n    console.log(\"not authenticated\")\n    return false\n  }\n}\n\nconst routes = [\n  { path: '/dashboard', name: \"dashboard\", beforeEnter: authGuard, component: () => import('@/pages/UserDashboard.vue') },\n  { path: '/admin', name: \"admin\", beforeEnter: isAuth, component: () => import('@/pages/AdminDashboard.vue') },\n  { path: '/settings', name: \"settings\", beforeEnter: isAuth, component: () => import('@/pages/SettingsPage.vue') },\n  { path: '/', name: \"start\", beforeEnter: isAuth, component: () => import('@/pages/StarterPage.vue') },\n]\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes: routes,\n})\n\napp.use(router)\napp.mount('#app')"],"mappings":"AAAA,SAASA,SAAS,QAAQ,KAAK;AAC/B,OAAOC,GAAG,MAAM,WAAW;AAC3B,MAAMC,GAAG,GAAGF,SAAS,CAACC,GAAG,CAAC;;AAI1B;;AAGA,SAASE,WAAW,QAAQ,kBAAkB;AAG9C,MAAMC,KAAK,GAAGD,WAAW,CAAC;EACxBE,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC,oBAAoB;EACxCC,QAAQ,EAAEH,OAAO,CAACC,GAAG,CAACG,sBAAsB;EAC5CC,mBAAmB,EAAE;IACnBC,YAAY,EAAEC,MAAM,CAACC,QAAQ,CAACC;EAChC,CAAC;EACDC,aAAa,EAAE,cAAc;EAC7B;EACAC,QAAQ,EAAG,GAAEJ,MAAM,CAACC,QAAQ,CAACC,MAAO,UAAS;EAC7CG,YAAY,EAAE,gBAAgB;EAC9BC,KAAK,EAAE;AACT,CAAC,CAAC;AAEFjB,GAAG,CAACkB,GAAG,CAAChB,KAAK,CAAC;;AAGd;;AAEA,OAAOiB,KAAK,MAAM,kBAAkB;AAEpCnB,GAAG,CAACkB,GAAG,CAACC,KAAK,CAAC;;AAEd;;AAEA,SAASC,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;;AAE3D;;AAEA,SAASC,SAAS,QAAQ,kBAAkB;AAE5C,MAAMC,MAAM,GAAG,YAAY;EACzBC,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;EACrBD,OAAO,CAACC,GAAG,CAACvB,KAAK,CAACwB,eAAe,CAAC;EAClC,IAAI,CAACxB,KAAK,CAACwB,eAAe,EAAE;IAC1BF,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;IAChC,OAAO,KAAK;EACd;AACF,CAAC;AAED,MAAME,MAAM,GAAG,CACb;EAAEC,IAAI,EAAE,YAAY;EAAEC,IAAI,EAAE,WAAW;EAAEC,WAAW,EAAER,SAAS;EAAES,SAAS,EAAE,MAAM,MAAM,CAAC,2BAA2B;AAAE,CAAC,EACvH;EAAEH,IAAI,EAAE,QAAQ;EAAEC,IAAI,EAAE,OAAO;EAAEC,WAAW,EAAEP,MAAM;EAAEQ,SAAS,EAAE,MAAM,MAAM,CAAC,4BAA4B;AAAE,CAAC,EAC7G;EAAEH,IAAI,EAAE,WAAW;EAAEC,IAAI,EAAE,UAAU;EAAEC,WAAW,EAAEP,MAAM;EAAEQ,SAAS,EAAE,MAAM,MAAM,CAAC,0BAA0B;AAAE,CAAC,EACjH;EAAEH,IAAI,EAAE,GAAG;EAAEC,IAAI,EAAE,OAAO;EAAEC,WAAW,EAAEP,MAAM;EAAEQ,SAAS,EAAE,MAAM,MAAM,CAAC,yBAAyB;AAAE,CAAC,CACtG;AAED,MAAMC,MAAM,GAAGZ,YAAY,CAAC;EAC1Ba,OAAO,EAAEZ,gBAAgB,EAAE;EAC3BM,MAAM,EAAEA;AACV,CAAC,CAAC;AAEF3B,GAAG,CAACkB,GAAG,CAACc,MAAM,CAAC;AACfhC,GAAG,CAACkC,KAAK,CAAC,MAAM,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}