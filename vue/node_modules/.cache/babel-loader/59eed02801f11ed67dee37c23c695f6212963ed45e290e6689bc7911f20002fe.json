{"ast":null,"code":"import api from \"@/api/switchit\";\nexport default {\n  components: {},\n  provide() {\n    return {\n      closeModal: () => {\n        this.modalComponent = null;\n      }\n    };\n  },\n  data() {\n    return {\n      users: [],\n      edit: false,\n      add: false,\n      modalComponent: null\n    };\n  },\n  methods: {\n    changeStatus(user) {\n      // console.log(user)\n      // console.log(user.status)\n      // console.log(user._id)\n      this.updateUser(user._id, {\n        status: user.status\n      });\n    },\n    async updateUser(id, fields) {\n      let response = await api.updateUser(id, fields);\n      console.log(response);\n    },\n    async deleteUser(id) {\n      console.log(id);\n    },\n    closeModal() {\n      this.modalComponent = null;\n    },\n    openModal(component) {\n      this.modalComponent = component;\n    }\n  },\n  async mounted() {\n    // this.users = await api.getUsers()\n    // console.log('UserTable')\n    // console.log(this.users)\n  }\n};","map":{"version":3,"mappings":"AAgEA,OAAOA,GAAE,MAAO,gBAAgB;AAEhC,eAAe;EACbC,UAAU,EAAE,CACZ,CAAC;EACDC,OAAO,GAAG;IACR,OAAO;MACLC,UAAU,EAAE,MAAM;QAAE,IAAI,CAACC,cAAa,GAAI,IAAG;MAAE;IACjD;EACF,CAAC;EACDC,IAAI,GAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,IAAI,EAAE,KAAK;MACXC,GAAG,EAAE,KAAK;MACVJ,cAAc,EAAE;IAClB,CAAC;EACH,CAAC;EACDK,OAAO,EAAE;IACPC,YAAY,CAACC,IAAI,EAAE;MACjB;MACA;MACA;MACA,IAAI,CAACC,UAAU,CAACD,IAAI,CAACE,GAAG,EAAE;QAAEC,MAAM,EAAEH,IAAI,CAACG;MAAO,CAAC;IACnD,CAAC;IACD,MAAMF,UAAU,CAACG,EAAE,EAAEC,MAAM,EAAE;MAC3B,IAAIC,QAAO,GAAI,MAAMjB,GAAG,CAACY,UAAU,CAACG,EAAE,EAAEC,MAAM;MAC9CE,OAAO,CAACC,GAAG,CAACF,QAAQ;IACtB,CAAC;IACD,MAAMG,UAAU,CAACL,EAAE,EAAE;MACnBG,OAAO,CAACC,GAAG,CAACJ,EAAE;IAChB,CAAC;IACDZ,UAAU,GAAG;MACX,IAAI,CAACC,cAAa,GAAI,IAAG;IAC3B,CAAC;IACDiB,SAAS,CAACC,SAAS,EAAE;MACnB,IAAI,CAAClB,cAAa,GAAIkB,SAAQ;IAChC;EACF,CAAC;EACD,MAAMC,OAAO,GAAG;IACd;IACA;IACA;EAAA;AAEJ","names":["api","components","provide","closeModal","modalComponent","data","users","edit","add","methods","changeStatus","user","updateUser","_id","status","id","fields","response","console","log","deleteUser","openModal","component","mounted"],"sourceRoot":"","sources":["/Users/nick/Sites/switchit-vue/src/pages/UserTable.vue"],"sourcesContent":["<template>\n\n  <div v-if=\"!edit && !add\">\n    <h2>Users</h2>\n    <div class=\"table_header\">\n      <div class=\"row\">\n        <div class=\"field\">User</div>\n        <!-- <div class=\"field\">Email</div> -->\n        <div class=\"field\">Access requested</div>\n        <div class=\"field status\">Status</div>\n      </div>\n      <div class=\"option\"></div>\n    </div>\n    <div class=\"table\">\n      <div v-for=\"(user, index) in users\" :key=\"index\">\n        <div class=\"item\">\n          <div class=\"row\">\n            <div class=\"field-group\">\n              <div class=\"field b\">\n                {{ user.name }}\n              </div>\n              <div class=\"field light\">\n                {{ user.email }}\n              </div>\n            </div>\n            <div class=\"access_icons\">\n              <span :class=\"user.access.mortgage.status ? 'active' : ''\" class=\"material-symbols-outlined\">house</span>\n              <span :class=\"user.access.insurance.status ? 'active' : ''\" class=\"material-symbols-outlined\">verified_user</span>\n              <span :class=\"user.access.bank.status ? 'active' : ''\" class=\"material-symbols-outlined\">credit_card</span>\n              <span :class=\"user.access.broadband.status ? 'active' : ''\" class=\"material-symbols-outlined\">language</span>\n              <span :class=\"user.access.mobile.status ? 'active' : ''\" class=\"material-symbols-outlined\">smartphone</span>\n              <span :class=\"user.access.utilities.status ? 'active' : ''\" class=\"material-symbols-outlined\">lightbulb</span>\n              <span :class=\"user.access.auto.status ? 'active' : ''\" class=\"material-symbols-outlined\">directions_car</span>\n            </div>\n\n            <div class='status_wrapper' :class=\"user.status\">\n              <!-- <div :class=\"['dot', user.status]\"></div> -->\n              <select name=\"status\" class=\"status\" v-model=\"user.status\" @change=\"changeStatus(user)\">\n                <option value=\"pending\">Pending</option>\n                <option value=\"approved\">Approved</option>\n                <option value=\"rejected\">Rejected</option>\n              </select>\n            </div>\n          </div>\n          <div class=\"option\" @click=\"deleteUser(user.id)\">\n            <span class=\"material-symbols-outlined\">Delete</span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <button class=\"mt10\" @click=\"add = true\">+ Add</button>\n  </div>\n  <div v-if=\"edit\">\n    <!-- <SettingsUserEdit :selectedUser=\"selectedUser\" @updateUser=\"updateUser\" @closeEdit=\"close\" /> -->\n  </div>\n  <div v-if=\"add\">\n    <!-- <SettingsUserCreate @createUser=\"createUser\" @closeEdit=\"close\" /> -->\n    <!-- <SettingsUserCreate -->\n  </div>\n</template>\n\n<script>\n\n\nimport api from \"@/api/switchit\";\n\nexport default {\n  components: {\n  },\n  provide() {\n    return {\n      closeModal: () => { this.modalComponent = null },\n    }\n  },\n  data() {\n    return {\n      users: [],\n      edit: false,\n      add: false,\n      modalComponent: null,\n    };\n  },\n  methods: {\n    changeStatus(user) {\n      // console.log(user)\n      // console.log(user.status)\n      // console.log(user._id)\n      this.updateUser(user._id, { status: user.status })\n    },\n    async updateUser(id, fields) {\n      let response = await api.updateUser(id, fields)\n      console.log(response)\n    },\n    async deleteUser(id) {\n      console.log(id)\n    },\n    closeModal() {\n      this.modalComponent = null\n    },\n    openModal(component) {\n      this.modalComponent = component\n    },\n  },\n  async mounted() {\n    // this.users = await api.getUsers()\n    // console.log('UserTable')\n    // console.log(this.users)\n  },\n}\n</script>\n\n\n<style lang=\"sass\" scoped>\n@import \"/src/styles/variables.sass\"\n\n\nh3\n  margin-block-end: 0\n\n.table_header\n  display: flex\n  width: 100% \n  max-width: 900px\n  border-radius: 6px\n  background-color: #546E7A\n  padding: 6px 10px\n  gap:10px\n  margin-bottom: 10px\n  border-radius: 4px\n  cursor: pointer\n  flex-grow:1\n  color: #eee\n  font-size: .7rem\n  .row\n    width:100%\n    display: flex\n    justify-content: space-between\n    .field \n      padding: 0 10px\n      width: 180px\n      opacity: .6\n      &.status\n        width: 95px\n  .option\n    width: 50px\n    padding: 10px 16px\n    height:100%\n    cursor: pointer\n    border-radius: 0 6px 6px 0\n    font-size: 1.5em\n    color: blue\n.table\n  background: #fff\n  border-radius: 6px\n  display: flex\n  flex-direction: column\n  gap: 10px\n  width:900px \n  max-width: 900px\n  .item\n    gap:10px\n    justify-content: space-between\n    align-items: center\n    display: flex\n    // background: #fafafa \n    padding: 0 0 0 10px\n    border-radius: 4px\n    cursor: pointer\n    .row\n      display: flex\n      flex-direction: field\n      align-items: center\n      justify-content: space-between\n      gap: 20px\n      flex-grow:1\n      &:hover\n        background: #fcfcfc\n      .field-group\n        display: flex\n        flex-direction: column\n        gap: 0px\n        padding: 4px 10px\n        .field\n          padding: 0\n      .field\n        padding: 10px\n        width: 180px\n        &.b\n          font-weight:600\n        &.light\n          color: #999\n      .access_icons\n        display: flex\n        gap: 6px\n        span\n          font-size:1.5em\n          opacity: .1\n          color: #00BB8E\n        span.active\n          opacity: 1   \n    .option\n      width: 50px\n      padding: 10px 16px\n      height:100%\n      cursor: pointer\n      border-radius: 0 6px 6px 0\n      font-size: 1.5em\n      color: #999\n      &:hover\n        background: #eee\n \n  .status_wrapper\n    position: relative\n    &:before\n      position: absolute\n      z-index:1\n      content: ''\n      padding: 0\n      top: 6px\n      left: 6px\n      width: 10px\n      height: 10px\n      border-radius: 10px\n      background-color: grey\n\n    &.pending:before\n      background-color: orange\n\n    &.approved:before\n      background-color: #00BFA5\n\n    &.rejected:before\n      background-color: red      \n\n    .status\n      outline: none\n      z-index: 0\n      position: relative\n      display: flex\n      width: 95px\n      height: auto\n      border: 0\n      background-color: #eee\n      border-radius:50px\n      padding: 2px 16px 2px 20px\n      font-size: .7rem\n      background-size: 20px\n    \n\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}