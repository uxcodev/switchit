{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, vModelSelect as _vModelSelect, withDirectives as _withDirectives, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-19757b4f\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  key: 0\n};\nconst _hoisted_2 = /*#__PURE__*/_createStaticVNode(\"<h2 data-v-19757b4f>Users</h2><div class=\\\"table_header\\\" data-v-19757b4f><div class=\\\"row\\\" data-v-19757b4f><div class=\\\"field\\\" data-v-19757b4f>User</div><!-- &lt;div class=&quot;field&quot;&gt;Email&lt;/div&gt; --><div class=\\\"field\\\" data-v-19757b4f>Access requested</div><div class=\\\"field status\\\" data-v-19757b4f>Status</div></div><div class=\\\"option\\\" data-v-19757b4f></div></div>\", 2);\nconst _hoisted_4 = {\n  class: \"table\"\n};\nconst _hoisted_5 = {\n  class: \"item\"\n};\nconst _hoisted_6 = {\n  class: \"row\"\n};\nconst _hoisted_7 = {\n  class: \"field-group\"\n};\nconst _hoisted_8 = {\n  class: \"field b\"\n};\nconst _hoisted_9 = {\n  class: \"field light\"\n};\nconst _hoisted_10 = {\n  class: \"access_icons\"\n};\nconst _hoisted_11 = [\"onUpdate:modelValue\", \"onChange\"];\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"pending\"\n}, \"Pending\", -1 /* HOISTED */));\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"approved\"\n}, \"Approved\", -1 /* HOISTED */));\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"rejected\"\n}, \"Rejected\", -1 /* HOISTED */));\nconst _hoisted_15 = [_hoisted_12, _hoisted_13, _hoisted_14];\nconst _hoisted_16 = [\"onClick\"];\nconst _hoisted_17 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"material-symbols-outlined\"\n}, \"Delete\", -1 /* HOISTED */));\nconst _hoisted_18 = [_hoisted_17];\nconst _hoisted_19 = {\n  key: 1\n};\nconst _hoisted_20 = {\n  key: 2\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [!$data.edit && !$data.add ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.users, (user, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index\n    }, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, _toDisplayString(user.first_name) + \" \" + _toDisplayString(user.last_name), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_9, _toDisplayString(user.email), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"span\", {\n      class: _normalizeClass([user.access.mortgage.status ? 'active' : '', \"material-symbols-outlined\"])\n    }, \"house\", 2 /* CLASS */), _createElementVNode(\"span\", {\n      class: _normalizeClass([user.access.insurance.status ? 'active' : '', \"material-symbols-outlined\"])\n    }, \"verified_user\", 2 /* CLASS */), _createElementVNode(\"span\", {\n      class: _normalizeClass([user.access.banking.status ? 'active' : '', \"material-symbols-outlined\"])\n    }, \"credit_card\", 2 /* CLASS */), _createElementVNode(\"span\", {\n      class: _normalizeClass([user.access.broadband.status ? 'active' : '', \"material-symbols-outlined\"])\n    }, \"language\", 2 /* CLASS */), _createElementVNode(\"span\", {\n      class: _normalizeClass([user.access.mobile.status ? 'active' : '', \"material-symbols-outlined\"])\n    }, \"smartphone\", 2 /* CLASS */), _createElementVNode(\"span\", {\n      class: _normalizeClass([user.access.utilities.status ? 'active' : '', \"material-symbols-outlined\"])\n    }, \"lightbulb\", 2 /* CLASS */), _createElementVNode(\"span\", {\n      class: _normalizeClass([user.access.auto.status ? 'active' : '', \"material-symbols-outlined\"])\n    }, \"directions_car\", 2 /* CLASS */)]), _createElementVNode(\"div\", {\n      class: _normalizeClass([\"status_wrapper\", user.status])\n    }, [_createCommentVNode(\" <div :class=\\\"['dot', user.status]\\\"></div> \"), _withDirectives(_createElementVNode(\"select\", {\n      name: \"status\",\n      class: \"select status\",\n      \"onUpdate:modelValue\": $event => user.status = $event,\n      onChange: $event => $options.changeStatus(user)\n    }, _hoisted_15, 40 /* PROPS, HYDRATE_EVENTS */, _hoisted_11), [[_vModelSelect, user.status]])], 2 /* CLASS */)]), _createElementVNode(\"div\", {\n      class: \"option\",\n      onClick: $event => $options.deleteUser(user.id)\n    }, _hoisted_18, 8 /* PROPS */, _hoisted_16)])]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"button\", {\n    class: \"mt10\",\n    onClick: _cache[0] || (_cache[0] = $event => $data.add = true)\n  }, \"+ Add\")])) : _createCommentVNode(\"v-if\", true), $data.edit ? (_openBlock(), _createElementBlock(\"div\", _hoisted_19, [_createCommentVNode(\" <SettingsUserEdit :selectedUser=\\\"selectedUser\\\" @updateUser=\\\"updateUser\\\" @closeEdit=\\\"close\\\" /> \")])) : _createCommentVNode(\"v-if\", true), $data.add ? (_openBlock(), _createElementBlock(\"div\", _hoisted_20, [_createCommentVNode(\" <SettingsUserCreate @createUser=\\\"createUser\\\" @closeEdit=\\\"close\\\" /> \"), _createCommentVNode(\" <SettingsUserCreate \")])) : _createCommentVNode(\"v-if\", true)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"mappings":";;;;;;;EAaSA,KAAK,EAAC;AAAO;;EAETA,KAAK,EAAC;AAAM;;EACVA,KAAK,EAAC;AAAK;;EACTA,KAAK,EAAC;AAAa;;EACjBA,KAAK,EAAC;AAAS;;EAGfA,KAAK,EAAC;AAAa;;EAIrBA,KAAK,EAAC;AAAc;;iEAarBC,oBAAwC;EAAhCC,KAAK,EAAC;AAAS,GAAC,SAAO;iEAC/BD,oBAA0C;EAAlCC,KAAK,EAAC;AAAU,GAAC,UAAQ;iEACjCD,oBAA0C;EAAlCC,KAAK,EAAC;AAAU,GAAC,UAAQ;qBAFjCC,WAAwC,EACxCC,WAA0C,EAC1CC,WAA0C;;iEAK9CJ,oBAAqD;EAA/CD,KAAK,EAAC;AAA2B,GAAC,QAAM;qBAA9CM,WAAqD;;;;;;;;8DA3CnDC,UAAI,KAAKA,SAAG,kBAAxBC,oBAiDM,oBAhDJC,UAAc,EAUdR,oBAoCM,OApCNS,UAoCM,sBAnCJF,oBAkCMG,6BAlCuBJ,WAAK,GAArBK,IAAI,EAAEC,KAAK;yBAAxBL,oBAkCM;MAlC+BM,GAAG,EAAED;IAAK,IAC7CZ,oBAgCM,OAhCNc,UAgCM,GA/BJd,oBA2BM,OA3BNe,UA2BM,GA1BJf,oBAOM,OAPNgB,UAOM,GANJhB,oBAEM,OAFNiB,UAEM,mBADDN,IAAI,CAACO,UAAU,IAAG,GAAC,oBAAGP,IAAI,CAACQ,SAAS,kBAEzCnB,oBAEM,OAFNoB,UAEM,mBADDT,IAAI,CAACU,KAAK,oBAGjBrB,oBAQM,OARNsB,WAQM,GAPJtB,oBAAyG;MAAlGD,KAAK,mBAAEY,IAAI,CAACY,MAAM,CAACC,QAAQ,CAACC,MAAM,kBAAwB,2BAA2B;OAAC,OAAK,kBAClGzB,oBAAkH;MAA3GD,KAAK,mBAAEY,IAAI,CAACY,MAAM,CAACG,SAAS,CAACD,MAAM,kBAAwB,2BAA2B;OAAC,eAAa,kBAC3GzB,oBAA8G;MAAvGD,KAAK,mBAAEY,IAAI,CAACY,MAAM,CAACI,OAAO,CAACF,MAAM,kBAAwB,2BAA2B;OAAC,aAAW,kBACvGzB,oBAA6G;MAAtGD,KAAK,mBAAEY,IAAI,CAACY,MAAM,CAACK,SAAS,CAACH,MAAM,kBAAwB,2BAA2B;OAAC,UAAQ,kBACtGzB,oBAA4G;MAArGD,KAAK,mBAAEY,IAAI,CAACY,MAAM,CAACM,MAAM,CAACJ,MAAM,kBAAwB,2BAA2B;OAAC,YAAU,kBACrGzB,oBAA8G;MAAvGD,KAAK,mBAAEY,IAAI,CAACY,MAAM,CAACO,SAAS,CAACL,MAAM,kBAAwB,2BAA2B;OAAC,WAAS,kBACvGzB,oBAA8G;MAAvGD,KAAK,mBAAEY,IAAI,CAACY,MAAM,CAACQ,IAAI,CAACN,MAAM,kBAAwB,2BAA2B;OAAC,gBAAc,oBAGzGzB,oBAOM;MAPDD,KAAK,mBAAC,gBAAgB,EAASY,IAAI,CAACc,MAAM;QAC7CO,oEAAkD,kBAClDhC,oBAIS;MAJDiC,IAAI,EAAC,QAAQ;MAAClC,KAAK,EAAC,eAAe;uCAAUY,IAAI,CAACc,MAAM;MAAGS,QAAM,YAAEC,qBAAY,CAACxB,IAAI;mFAAvCA,IAAI,CAACc,MAAM,wBAOpEzB,oBAEM;MAFDD,KAAK,EAAC,QAAQ;MAAEqC,OAAK,YAAED,mBAAU,CAACxB,IAAI,CAAC0B,EAAE;;oCAMpDrC,oBAAuD;IAA/CD,KAAK,EAAC,MAAM;IAAEqC,OAAK,sCAAE9B,SAAG;KAAS,OAAK,0CAErCA,UAAI,kBAAfC,oBAEM,qBADJyB,4HAAsG,yCAE7F1B,SAAG,kBAAdC,oBAGM,qBAFJyB,+FAA2E,EAC3EA,4CAA4B","names":["class","_createElementVNode","value","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_17","$data","_createElementBlock","_hoisted_2","_hoisted_4","_Fragment","user","index","key","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","first_name","last_name","_hoisted_9","email","_hoisted_10","access","mortgage","status","insurance","banking","broadband","mobile","utilities","auto","_createCommentVNode","name","onChange","$options","onClick","id"],"sourceRoot":"","sources":["/Users/nick/Sites/switchit/vue/src/pages/UserTable.vue"],"sourcesContent":["<template>\n\n  <div v-if=\"!edit && !add\">\n    <h2>Users</h2>\n    <div class=\"table_header\">\n      <div class=\"row\">\n        <div class=\"field\">User</div>\n        <!-- <div class=\"field\">Email</div> -->\n        <div class=\"field\">Access requested</div>\n        <div class=\"field status\">Status</div>\n      </div>\n      <div class=\"option\"></div>\n    </div>\n    <div class=\"table\">\n      <div v-for=\"(user, index) in users\" :key=\"index\">\n        <div class=\"item\">\n          <div class=\"row\">\n            <div class=\"field-group\">\n              <div class=\"field b\">\n                {{ user.first_name }} {{ user.last_name }}\n              </div>\n              <div class=\"field light\">\n                {{ user.email }}\n              </div>\n            </div>\n            <div class=\"access_icons\">\n              <span :class=\"user.access.mortgage.status ? 'active' : ''\" class=\"material-symbols-outlined\">house</span>\n              <span :class=\"user.access.insurance.status ? 'active' : ''\" class=\"material-symbols-outlined\">verified_user</span>\n              <span :class=\"user.access.banking.status ? 'active' : ''\" class=\"material-symbols-outlined\">credit_card</span>\n              <span :class=\"user.access.broadband.status ? 'active' : ''\" class=\"material-symbols-outlined\">language</span>\n              <span :class=\"user.access.mobile.status ? 'active' : ''\" class=\"material-symbols-outlined\">smartphone</span>\n              <span :class=\"user.access.utilities.status ? 'active' : ''\" class=\"material-symbols-outlined\">lightbulb</span>\n              <span :class=\"user.access.auto.status ? 'active' : ''\" class=\"material-symbols-outlined\">directions_car</span>\n            </div>\n\n            <div class='status_wrapper' :class=\"user.status\">\n              <!-- <div :class=\"['dot', user.status]\"></div> -->\n              <select name=\"status\" class=\"select status\" v-model=\"user.status\" @change=\"changeStatus(user)\">\n                <option value=\"pending\">Pending</option>\n                <option value=\"approved\">Approved</option>\n                <option value=\"rejected\">Rejected</option>\n              </select>\n            </div>\n          </div>\n          <div class=\"option\" @click=\"deleteUser(user.id)\">\n            <span class=\"material-symbols-outlined\">Delete</span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <button class=\"mt10\" @click=\"add = true\">+ Add</button>\n  </div>\n  <div v-if=\"edit\">\n    <!-- <SettingsUserEdit :selectedUser=\"selectedUser\" @updateUser=\"updateUser\" @closeEdit=\"close\" /> -->\n  </div>\n  <div v-if=\"add\">\n    <!-- <SettingsUserCreate @createUser=\"createUser\" @closeEdit=\"close\" /> -->\n    <!-- <SettingsUserCreate -->\n  </div>\n</template>\n\n<script>\n\n\nimport api from \"@/api/switchit\";\n\nexport default {\n  components: {\n  },\n  provide() {\n    return {\n      closeModal: () => { this.modalComponent = null },\n    }\n  },\n  data() {\n    return {\n      users: [],\n      edit: false,\n      add: false,\n      modalComponent: null,\n    };\n  },\n  methods: {\n    changeStatus(user) {\n      // console.log(user)\n      // console.log(user.status)\n      // console.log(user._id)\n      this.updateUser(user._id, { status: user.status })\n    },\n    async updateUser(id, fields) {\n      let response = await api.updateUser(id, fields)\n      console.log(response)\n    },\n    async deleteUser(id) {\n      console.log(id)\n    },\n    closeModal() {\n      this.modalComponent = null\n    },\n    openModal(component) {\n      this.modalComponent = component\n    },\n  },\n  async mounted() {\n    this.users = await api.getUsers()\n    console.log(this.users)\n\n    // console.log('UserTable')\n    // console.log(this.users)\n  },\n}\n</script>\n\n\n<style lang=\"sass\" scoped>\n@import \"/src/styles/variables.sass\"\n\n\nh3\n  margin-block-end: 0\n\n.table_header\n  display: flex\n  width: 100% \n  max-width: 900px\n  border-radius: 6px\n  background-color: #546E7A\n  padding: 6px 10px\n  gap:10px\n  margin-bottom: 10px\n  border-radius: 4px\n  cursor: pointer\n  flex-grow:1\n  color: #eee\n  font-size: .7rem\n  .row\n    width:100%\n    display: flex\n    justify-content: space-between\n    .field \n      padding: 0 10px\n      width: 180px\n      opacity: .6\n      &.status\n        width: 95px\n  .option\n    width: 50px\n    padding: 10px 16px\n    height:100%\n    cursor: pointer\n    border-radius: 0 6px 6px 0\n    font-size: 1.5em\n    color: blue\n.table\n  background: #fff\n  border-radius: 6px\n  display: flex\n  flex-direction: column\n  gap: 10px\n  width:900px \n  max-width: 900px\n  .item\n    gap:10px\n    justify-content: space-between\n    align-items: center\n    display: flex\n    // background: #fafafa \n    padding: 0 0 0 10px\n    border-radius: 4px\n    cursor: pointer\n    .row\n      display: flex\n      flex-direction: field\n      align-items: center\n      justify-content: space-between\n      gap: 20px\n      flex-grow:1\n      &:hover\n        background: #fcfcfc\n      .field-group\n        display: flex\n        flex-direction: column\n        gap: 0px\n        padding: 4px 10px\n        .field\n          padding: 0\n      .field\n        padding: 10px\n        width: 180px\n        &.b\n          font-weight:600\n        &.light\n          color: #999\n      .access_icons\n        display: flex\n        gap: 6px\n        span\n          font-size:1.5em\n          opacity: .1\n          color: #00BB8E\n        span.active\n          opacity: 1   \n    .option\n      width: 50px\n      padding: 10px 16px\n      height:100%\n      cursor: pointer\n      border-radius: 0 6px 6px 0\n      font-size: 1.5em\n      color: #999\n      &:hover\n        background: #eee\n \n  .status_wrapper\n    position: relative\n    &:before\n      position: absolute\n      z-index:1\n      content: ''\n      padding: 0\n      top: 6px\n      left: 6px\n      width: 10px\n      height: 10px\n      border-radius: 10px\n      background-color: grey\n\n    &.pending:before\n      background-color: orange\n\n    &.approved:before\n      background-color: #00BFA5\n\n    &.rejected:before\n      background-color: red      \n\n    .status\n      outline: none\n      z-index: 0\n      position: relative\n      display: flex\n      width: 95px\n      height: auto\n      border: 0\n      background-color: #eee\n      border-radius:50px\n      padding: 2px 16px 2px 20px\n      font-size: .7rem\n      background-size: 20px\n    \n\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}