{"ast":null,"code":"import ModalWindow from '@/components/ui/ModalWindow.vue';\nimport Multiselect from '@vueform/multiselect';\nimport CompanyOnboardingSuccess from './CompanyOnboardingSuccess.vue';\nimport api from \"@/api/switchit\";\nexport default {\n  components: {\n    ModalWindow,\n    Multiselect,\n    CompanyOnboardingSuccess\n  },\n  data() {\n    return {\n      status: 'new',\n      modalComponent: null,\n      screen: 'UserTable',\n      form: {\n        user: {\n          first_name: \"Nick\",\n          last_name: \"Todd\",\n          email: this.$auth0.user._value.email,\n          admin: false,\n          status: \"pending\",\n          access: {}\n        },\n        company: {\n          name: \"UXCO\",\n          website: \"uxco.co\",\n          countries: [\"Denmark\"],\n          status: \"pending\",\n          access: {\n            mortgage: {\n              status: false\n            },\n            mobile: {\n              status: false\n            },\n            utilities: {\n              status: false\n            },\n            insurance: {\n              status: false\n            },\n            broadband: {\n              status: false\n            },\n            auto: {\n              status: false\n            },\n            banking: {\n              status: false\n            }\n          }\n        }\n      },\n      country_list: [\"Denmark\", \"Germany\", \"Norway\", \"Sweden\", \"United States\"]\n    };\n  },\n  computed: {\n    user() {\n      return this.$store.getters.user;\n    }\n  },\n  methods: {\n    closeModal() {\n      this.modalComponent = null;\n    },\n    openModal(component) {\n      this.modalComponent = component;\n    },\n    changePage(page) {\n      this.screen = page;\n    },\n    async submitForm() {\n      this.form.user.access = this.form.company.access;\n      let response = await api.signupCompany(this.form);\n      console.log(response);\n    }\n  },\n  async mounted() {\n    setTimeout(() => {\n      let user = this.$store.getters.user;\n      console.log(user);\n      console.log(this.$auth0.user._value.email);\n      // this.user = this.$store.getters.user\n    }, 1000);\n  }\n};","map":{"version":3,"mappings":"AAuFA,OAAOA,WAAU,MAAO,iCAAiC;AACzD,OAAOC,WAAU,MAAO,sBAAqB;AAC7C,OAAOC,wBAAuB,MAAO,gCAAgC;AACrE,OAAOC,GAAE,MAAO,gBAAgB;AAEhC,eAAe;EACbC,UAAU,EAAE;IACVJ,WAAW;IACXC,WAAW;IACXC;EACF,CAAC;EACDG,IAAI,GAAG;IAEL,OAAO;MACLC,MAAM,EAAE,KAAK;MACbC,cAAc,EAAE,IAAI;MACpBC,MAAM,EAAE,WAAW;MACnBC,IAAI,EAAE;QACJC,IAAI,EAAE;UACJC,UAAU,EAAE,MAAM;UAClBC,SAAS,EAAE,MAAM;UACjBC,KAAK,EAAE,IAAI,CAACC,MAAM,CAACJ,IAAI,CAACK,MAAM,CAACF,KAAK;UACpCG,KAAK,EAAE,KAAK;UACZV,MAAM,EAAE,SAAS;UACjBW,MAAM,EAAE,CAAC;QACX,CAAC;QACDC,OAAO,EAAE;UACPC,IAAI,EAAE,MAAM;UACZC,OAAO,EAAE,SAAS;UAClBC,SAAS,EAAE,CAAC,SAAS,CAAE;UACvBf,MAAM,EAAE,SAAS;UACjBW,MAAM,EAAE;YACNK,QAAQ,EAAE;cAAEhB,MAAM,EAAE;YAAM,CAAC;YAC3BiB,MAAM,EAAE;cAAEjB,MAAM,EAAE;YAAM,CAAC;YACzBkB,SAAS,EAAE;cAAElB,MAAM,EAAE;YAAM,CAAC;YAC5BmB,SAAS,EAAE;cAAEnB,MAAM,EAAE;YAAM,CAAC;YAC5BoB,SAAS,EAAE;cAAEpB,MAAM,EAAE;YAAM,CAAC;YAC5BqB,IAAI,EAAE;cAAErB,MAAM,EAAE;YAAM,CAAC;YACvBsB,OAAO,EAAE;cAAEtB,MAAM,EAAE;YAAM;UAC3B;QACF;MACF,CAAC;MACDuB,YAAY,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE,eAAe;IAC1E;EACF,CAAC;EACDC,QAAQ,EAAE;IACRpB,IAAI,GAAG;MACL,OAAO,IAAI,CAACqB,MAAM,CAACC,OAAO,CAACtB,IAAG;IAChC;EACF,CAAC;EACDuB,OAAO,EAAE;IACPC,UAAU,GAAG;MACX,IAAI,CAAC3B,cAAa,GAAI,IAAG;IAC3B,CAAC;IACD4B,SAAS,CAACC,SAAS,EAAE;MACnB,IAAI,CAAC7B,cAAa,GAAI6B,SAAQ;IAChC,CAAC;IACDC,UAAU,CAACC,IAAI,EAAE;MACf,IAAI,CAAC9B,MAAK,GAAI8B,IAAG;IACnB,CAAC;IACD,MAAMC,UAAU,GAAG;MACjB,IAAI,CAAC9B,IAAI,CAACC,IAAI,CAACO,MAAK,GAAI,IAAI,CAACR,IAAI,CAACS,OAAO,CAACD,MAAK;MAC/C,IAAIuB,QAAO,GAAI,MAAMrC,GAAG,CAACsC,aAAa,CAAC,IAAI,CAAChC,IAAI;MAChDiC,OAAO,CAACC,GAAG,CAACH,QAAQ;IACtB;EACF,CAAC;EACD,MAAMI,OAAO,GAAG;IACdC,UAAU,CAAC,MAAM;MACf,IAAInC,IAAG,GAAI,IAAI,CAACqB,MAAM,CAACC,OAAO,CAACtB,IAAG;MAClCgC,OAAO,CAACC,GAAG,CAACjC,IAAI;MAChBgC,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC7B,MAAM,CAACJ,IAAI,CAACK,MAAM,CAACF,KAAK;MACzC;IACF,CAAC,EAAE,IAAI;EACT;AACF","names":["ModalWindow","Multiselect","CompanyOnboardingSuccess","api","components","data","status","modalComponent","screen","form","user","first_name","last_name","email","$auth0","_value","admin","access","company","name","website","countries","mortgage","mobile","utilities","insurance","broadband","auto","banking","country_list","computed","$store","getters","methods","closeModal","openModal","component","changePage","page","submitForm","response","signupCompany","console","log","mounted","setTimeout"],"sourceRoot":"","sources":["/Users/nick/Sites/switchit/vue/src/pages/onboarding/CompanyOnboarding.vue"],"sourcesContent":["<template>\n  <ModalWindow v-if=\"modalComponent\" :component=\"modalComponent\" @closeModal=\"closeModal\">\n    <component :is=\"modalComponent\"></component>\n  </ModalWindow>\n  <div class=\"main\">\n    <div v-if=\"status === 'new'\" class=\"container\">\n      <h2>Request access to Switchit</h2>\n      <form @submit.prevent class=\"switchit-form sm\">\n        <!-- <h3>{{ service.name }}</h3> -->\n        <div class=\"group\">\n          <label for=\"firstName\">Your name</label>\n          <div class=\"inline\">\n            <input v-model=\"form.user.first_name\" placeholder=\"First name\" type=\"text\" id=\"first_name\" class=\"input lg mr3\" />\n            <input v-model=\"form.user.last_name\" placeholder=\"Last name\" type=\"text\" id=\"last_name\" class=\"input lg\" />\n          </div>\n        </div>\n        <div class=\"group\">\n          <label for=\"email\">Your email</label>\n          <input v-model=\"form.user.email\" type=\"text\" id=\"first_name\" disabled class=\"input lg\" />\n        </div>\n        <div class=\"group\">\n          <label for=\"company\">Company name</label>\n          <input v-model=\"form.company.name\" placeholder=\"\" type=\"text\" id=\"company\" class=\"input lg\" />\n        </div>\n        <div class=\"group\">\n          <label for=\"website\">Company website</label>\n          <input v-model=\"form.company.website\" placeholder=\"\" type=\"text\" id=\"website\" class=\"input lg\" />\n        </div>\n        <div class=\"group\">\n          <label for=\"website\">Countries you are active in</label>\n          <Multiselect v-model=\"form.company.countries\" mode=\"tags\" :searchable=\"true\" :close-on-select=\"false\" :options=\"country_list\" />\n        </div>\n        <div class=\"group\">\n\n          <label for=\"\">Markets you are interested in serving</label>\n\n\n          <div class=\"checkbox-group\">\n            <label class=\"checkbox-label\">\n              <input class=\"checkbox\" type=\"checkbox\" v-model=\"form.company.access.mortgage.status\" id=\"mortgage\" />Mortgage\n              <span class=\"checkmark\"></span>\n            </label>\n            <label class=\"checkbox-label\">\n              <input class=\"checkbox\" type=\"checkbox\" v-model=\"form.company.access.mobile.status\" id=\"mobile\" />Mobile\n              <span class=\"checkmark\"></span>\n            </label>\n            <label class=\"checkbox-label\">\n              <input class=\"checkbox\" type=\"checkbox\" v-model=\"form.company.access.utilities.status\" id=\"energy\" />Energy\n              <span class=\"checkmark\"></span>\n            </label>\n            <label class=\"checkbox-label\">\n              <input class=\"checkbox\" type=\"checkbox\" v-model=\"form.company.access.insurance.status\" id=\"insurance\" />Insurance\n              <span class=\"checkmark\"></span>\n            </label>\n            <label class=\"checkbox-label\">\n              <input class=\"checkbox\" type=\"checkbox\" v-model=\"form.company.access.broadband.status\" id=\"broadband\" />Broadband\n              <span class=\"checkmark\"></span>\n            </label>\n            <label class=\"checkbox-label\">\n              <input class=\"checkbox\" type=\"checkbox\" v-model=\"form.company.access.auto.status\" id=\"auto\" />Auto\n              <span class=\"checkmark\"></span>\n            </label>\n            <label class=\"checkbox-label\">\n              <input class=\"checkbox\" type=\"checkbox\" v-model=\"form.company.access.banking.status\" id=\"banking\" />Banking\n              <span class=\"checkmark\"></span>\n            </label>\n          </div>\n        </div>\n        <button class=\"icon\" @click=\"submitForm\">Submit request</button>\n      </form>\n    </div>\n\n    <!-- <h3>{{ user.status }}</h3> -->\n    <!-- <div>\n      <pre>\n        <code>\n        {{ user }}\n      </code>\n      </pre>\n    </div> -->\n    <!-- <keep-alive>\n      <component v-if=\"$auth0.isAuthenticated.value\" :is=\"screen\"></component>\n    </keep-alive> -->\n  </div>\n</template>\n<script>\n\nimport ModalWindow from '@/components/ui/ModalWindow.vue';\nimport Multiselect from '@vueform/multiselect'\nimport CompanyOnboardingSuccess from './CompanyOnboardingSuccess.vue';\nimport api from \"@/api/switchit\";\n\nexport default {\n  components: {\n    ModalWindow,\n    Multiselect,\n    CompanyOnboardingSuccess\n  },\n  data() {\n\n    return {\n      status: 'new',\n      modalComponent: null,\n      screen: 'UserTable',\n      form: {\n        user: {\n          first_name: \"Nick\",\n          last_name: \"Todd\",\n          email: this.$auth0.user._value.email,\n          admin: false,\n          status: \"pending\",\n          access: {}\n        },\n        company: {\n          name: \"UXCO\",\n          website: \"uxco.co\",\n          countries: [\"Denmark\",],\n          status: \"pending\",\n          access: {\n            mortgage: { status: false },\n            mobile: { status: false },\n            utilities: { status: false },\n            insurance: { status: false },\n            broadband: { status: false },\n            auto: { status: false },\n            banking: { status: false },\n          },\n        }\n      },\n      country_list: [\"Denmark\", \"Germany\", \"Norway\", \"Sweden\", \"United States\"]\n    }\n  },\n  computed: {\n    user() {\n      return this.$store.getters.user\n    }\n  },\n  methods: {\n    closeModal() {\n      this.modalComponent = null\n    },\n    openModal(component) {\n      this.modalComponent = component\n    },\n    changePage(page) {\n      this.screen = page\n    },\n    async submitForm() {\n      this.form.user.access = this.form.company.access\n      let response = await api.signupCompany(this.form)\n      console.log(response)\n    }\n  },\n  async mounted() {\n    setTimeout(() => {\n      let user = this.$store.getters.user\n      console.log(user)\n      console.log(this.$auth0.user._value.email)\n      // this.user = this.$store.getters.user\n    }, 1000)\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n@import \"/src/styles/variables.sass\"\n@import \"/src/styles/mixins.sass\"\n@import \"@vueform/multiselect/themes/default.css\"\n.main\n  display: flex\n  flex-direction: column\n  align-items: center\n  justify-content: flex-start\n  background-color: #fafafa\n  min-height: 100vh\n  padding: 120px 20px 60px 20px\n  top: 80px\n\n.container\n  background-color: white\n  padding: 50px\n  border-radius: 10px\n  @include shadow()\n\n  .group\n    input:not(.reset)\n      max-width: none\n\n.checkbox-group\n  flex-direction: row\n  flex-wrap: wrap\n  width:400px\n  label\n    width:160px\npre\n  color: black\n\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}