{"ast":null,"code":"import { createApp } from 'vue';\nimport Vue from 'vue';\nimport App from './App.vue';\nconst app = createApp(App);\n\n/* make api available throughout app */\nimport api from \"@/api/api\";\nconst plugin = {\n  install() {\n    Vue.api = api;\n    Vue.prototype.$api = api;\n  }\n};\nVue.use(plugin);\n\n/* use Auth0 */\n\nimport { createAuth0 } from '@auth0/auth0-vue';\nconst auth0 = createAuth0({\n  domain: process.env.VUE_APP_AUTH0_DOMAIN,\n  clientId: process.env.VUE_APP_AUTH0_CLIENTID,\n  authorizationParams: {\n    redirect_uri: window.location.origin\n  },\n  cacheLocation: 'localstorage',\n  // useRefreshTokens: true,\n  audience: `${window.location.origin}/api/v2/`,\n  responseType: 'token id_token',\n  scope: 'openid profile'\n});\napp.use(auth0);\n\n/* use Vuex store */\n\nimport store from '@/store/index.js';\napp.use(store);\n\n/* set up router */\n\nimport { createRouter, createWebHistory } from 'vue-router';\n\n/* use Router */\n\nimport { authGuard } from \"@auth0/auth0-vue\";\nconst isAuth = async () => {\n  if (!auth0.isAuthenticated) {\n    console.log(\"not authenticated\");\n    auth0.loginWithRedirect({\n      appState: {\n        target: window.location.href\n      }\n    });\n    return false;\n  }\n};\nconst routes = [{\n  path: '/dashboard',\n  name: \"dashboard\",\n  beforeEnter: authGuard,\n  component: () => import('@/pages/UserDashboard.vue')\n}, {\n  path: '/admin',\n  name: \"admin\",\n  beforeEnter: isAuth,\n  component: () => import('@/pages/AdminDashboard.vue')\n}, {\n  path: '/settings',\n  name: \"settings\",\n  beforeEnter: isAuth,\n  component: () => import('@/pages/SettingsPage.vue')\n}, {\n  path: '/',\n  name: \"start\",\n  beforeEnter: isAuth,\n  component: () => import('@/pages/StarterPage.vue')\n}, {\n  path: '/onboarding',\n  name: \"onboarding\",\n  beforeEnter: isAuth,\n  component: () => import('@/pages//onboarding/CompanyOnboarding.vue')\n}];\nconst router = createRouter({\n  history: createWebHistory(),\n  routes: routes\n});\napp.use(router);\napp.mount('#app');","map":{"version":3,"names":["createApp","Vue","App","app","api","plugin","install","prototype","$api","use","createAuth0","auth0","domain","process","env","VUE_APP_AUTH0_DOMAIN","clientId","VUE_APP_AUTH0_CLIENTID","authorizationParams","redirect_uri","window","location","origin","cacheLocation","audience","responseType","scope","store","createRouter","createWebHistory","authGuard","isAuth","isAuthenticated","console","log","loginWithRedirect","appState","target","href","routes","path","name","beforeEnter","component","router","history","mount"],"sources":["/Users/nick/Sites/switchit/vue/src/main.js"],"sourcesContent":["import { createApp } from 'vue'\nimport Vue from 'vue'\nimport App from './App.vue'\nconst app = createApp(App);\n\n/* make api available throughout app */\nimport api from \"@/api/api\";\nconst plugin = {\n  install() {\n    Vue.api = api\n    Vue.prototype.$api = api\n  }\n}\nVue.use(plugin)\n\n\n/* use Auth0 */\n\nimport { createAuth0 } from '@auth0/auth0-vue';\n\n\nconst auth0 = createAuth0({\n  domain: process.env.VUE_APP_AUTH0_DOMAIN,\n  clientId: process.env.VUE_APP_AUTH0_CLIENTID,\n  authorizationParams: {\n    redirect_uri: window.location.origin\n  },\n  cacheLocation: 'localstorage',\n  // useRefreshTokens: true,\n  audience: `${window.location.origin}/api/v2/`,\n  responseType: 'token id_token',\n  scope: 'openid profile'\n})\n\napp.use(auth0);\n\n\n/* use Vuex store */\n\nimport store from '@/store/index.js'\n\napp.use(store)\n\n/* set up router */\n\nimport { createRouter, createWebHistory } from 'vue-router'\n\n/* use Router */\n\nimport { authGuard } from \"@auth0/auth0-vue\";\n\nconst isAuth = async () => {\n  if (!auth0.isAuthenticated) {\n    console.log(\"not authenticated\")\n    auth0.loginWithRedirect({\n      appState: {\n        target: window.location.href,\n      },\n    });\n    return false\n  }\n}\n\nconst routes = [\n  {\n    path: '/dashboard',\n    name: \"dashboard\",\n    beforeEnter: authGuard,\n    component: () => import('@/pages/UserDashboard.vue')\n  },\n  {\n    path: '/admin',\n    name: \"admin\",\n    beforeEnter: isAuth,\n    component: () => import('@/pages/AdminDashboard.vue')\n  },\n  {\n    path: '/settings',\n    name: \"settings\",\n    beforeEnter: isAuth,\n    component: () => import('@/pages/SettingsPage.vue')\n  },\n  {\n    path: '/',\n    name: \"start\",\n    beforeEnter: isAuth,\n    component: () => import('@/pages/StarterPage.vue')\n  },\n  {\n    path: '/onboarding',\n    name: \"onboarding\",\n    beforeEnter: isAuth,\n    component: () => import('@/pages//onboarding/CompanyOnboarding.vue')\n  },\n]\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes: routes,\n})\n\napp.use(router)\napp.mount('#app')\n\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,KAAK;AAC/B,OAAOC,GAAG,MAAM,KAAK;AACrB,OAAOC,GAAG,MAAM,WAAW;AAC3B,MAAMC,GAAG,GAAGH,SAAS,CAACE,GAAG,CAAC;;AAE1B;AACA,OAAOE,GAAG,MAAM,WAAW;AAC3B,MAAMC,MAAM,GAAG;EACbC,OAAO,GAAG;IACRL,GAAG,CAACG,GAAG,GAAGA,GAAG;IACbH,GAAG,CAACM,SAAS,CAACC,IAAI,GAAGJ,GAAG;EAC1B;AACF,CAAC;AACDH,GAAG,CAACQ,GAAG,CAACJ,MAAM,CAAC;;AAGf;;AAEA,SAASK,WAAW,QAAQ,kBAAkB;AAG9C,MAAMC,KAAK,GAAGD,WAAW,CAAC;EACxBE,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC,oBAAoB;EACxCC,QAAQ,EAAEH,OAAO,CAACC,GAAG,CAACG,sBAAsB;EAC5CC,mBAAmB,EAAE;IACnBC,YAAY,EAAEC,MAAM,CAACC,QAAQ,CAACC;EAChC,CAAC;EACDC,aAAa,EAAE,cAAc;EAC7B;EACAC,QAAQ,EAAG,GAAEJ,MAAM,CAACC,QAAQ,CAACC,MAAO,UAAS;EAC7CG,YAAY,EAAE,gBAAgB;EAC9BC,KAAK,EAAE;AACT,CAAC,CAAC;AAEFvB,GAAG,CAACM,GAAG,CAACE,KAAK,CAAC;;AAGd;;AAEA,OAAOgB,KAAK,MAAM,kBAAkB;AAEpCxB,GAAG,CAACM,GAAG,CAACkB,KAAK,CAAC;;AAEd;;AAEA,SAASC,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;;AAE3D;;AAEA,SAASC,SAAS,QAAQ,kBAAkB;AAE5C,MAAMC,MAAM,GAAG,YAAY;EACzB,IAAI,CAACpB,KAAK,CAACqB,eAAe,EAAE;IAC1BC,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;IAChCvB,KAAK,CAACwB,iBAAiB,CAAC;MACtBC,QAAQ,EAAE;QACRC,MAAM,EAAEjB,MAAM,CAACC,QAAQ,CAACiB;MAC1B;IACF,CAAC,CAAC;IACF,OAAO,KAAK;EACd;AACF,CAAC;AAED,MAAMC,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,YAAY;EAClBC,IAAI,EAAE,WAAW;EACjBC,WAAW,EAAEZ,SAAS;EACtBa,SAAS,EAAE,MAAM,MAAM,CAAC,2BAA2B;AACrD,CAAC,EACD;EACEH,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbC,WAAW,EAAEX,MAAM;EACnBY,SAAS,EAAE,MAAM,MAAM,CAAC,4BAA4B;AACtD,CAAC,EACD;EACEH,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,UAAU;EAChBC,WAAW,EAAEX,MAAM;EACnBY,SAAS,EAAE,MAAM,MAAM,CAAC,0BAA0B;AACpD,CAAC,EACD;EACEH,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,OAAO;EACbC,WAAW,EAAEX,MAAM;EACnBY,SAAS,EAAE,MAAM,MAAM,CAAC,yBAAyB;AACnD,CAAC,EACD;EACEH,IAAI,EAAE,aAAa;EACnBC,IAAI,EAAE,YAAY;EAClBC,WAAW,EAAEX,MAAM;EACnBY,SAAS,EAAE,MAAM,MAAM,CAAC,2CAA2C;AACrE,CAAC,CACF;AAED,MAAMC,MAAM,GAAGhB,YAAY,CAAC;EAC1BiB,OAAO,EAAEhB,gBAAgB,EAAE;EAC3BU,MAAM,EAAEA;AACV,CAAC,CAAC;AAEFpC,GAAG,CAACM,GAAG,CAACmC,MAAM,CAAC;AACfzC,GAAG,CAAC2C,KAAK,CAAC,MAAM,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}